---
title: "高可用性と災害復旧 Master Data Services の |Microsoft ドキュメント"
ms.custom:
- SQL2016_New_Updated
ms.date: 07/28/2017
ms.prod: sql-server-2016
ms.reviewer: 
ms.suite: 
ms.technology:
- master-data-services
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 
caps.latest.revision: 
author: sabotta
ms.author: carlasab
manager: craigg
ms.translationtype: MT
ms.sourcegitcommit: 1419847dd47435cef775a2c55c0578ff4406cddc
ms.openlocfilehash: 2afbf59101a0605dba2e79f09777160cb4de5cab
ms.contentlocale: ja-jp
ms.lasthandoff: 08/02/2017

---



# <a name="high-availability-and-disaster-recovery-for-master-data-services"></a>高可用性と災害復旧のマスター データ サービス

**概要:** この記事では、AlwaysOn 可用性グループ構成でホストされているマスター データ サービス (MDS) のソリューションについて説明します。 この記事では、SQL 2016 AlwaysOn 可用性グループ (AG) で SQL 2016 マスター データ サービスをインストールして構成する方法について説明します。 このソリューションの主な目的は、SQL Server データベースでホストされている MDS バックエンド データの高可用性と障害復旧の改善です。

## <a name="introduction"></a>概要


この記事では、マスター データ サービス (MDS)、AlwaysOn 可用性グループ構成でホストされているソリューションを説明します。 インストールして、SQL 2016 AlwaysOn 可用性グループ (AG) の SQL 2016 MDS を構成する方法を説明します。 このソリューションの主な目的は、SQL Server データベースでホストされている MDS バックエンド データの高可用性と障害復旧の改善です。

ソリューションを実装するのには、この記事で説明する次のタスクを完了する必要があります。

1.  [インストールして Windows Server フェールオーバー クラスター (WSFC) を設定](#windows-server-failover-cluster-wsfc)です。

2.  [AlwaysOn 可用性グループをセットアップ](#sql-server-alwayson-availability-group)です。

3.  [WSFC ノードで実行する MDS を構成する](#configure-mds-to-run-on-an-wsfc-node)です。

上記のセクションは、手順を続けて、テクノロジを簡単に紹介します。 テクノロジの詳細については、各セクションでリンク先のドキュメントを確認してください。

この記事で説明されているこのソリューションは、SQL Server AlwaysOn 可用性グループ、データベースごとに複数の同期または非同期レプリカ上に構築されます。 1 つのみのレプリカは、(ユーザーの要求を受け入れる) トランザクションを受け入れます。 これは、プライマリ レプリカです。

各レプリカでは、独自の記憶域を持つため、このソリューションで一元的な共有記憶域がありません。 ソフトウェアの障害や、プライマリ レプリカに影響するハードウェアの障害がある場合、プライマリ レプリカできますフェールオーバーできません。 同期または非同期のレプリカがいずれかの自動または手動で構成およびに基づいて状況にします。 これにより、ユーザーに最低限の中断を伴うデータベースの高可用性が保証されます。

通常、非同期レプリカはプライマリ レプリカのデータ センターからリモートにあるデータ センターでホストします。 障害のシナリオが発生した場合、プライマリ レプリカを別のデータ センターにフェールオーバーできます。 これにより、データベースの災害復旧が保証されます。

デモの目的では、この記事で説明されているソリューションは、次のバージョンのソフトウェアを使用します。 古いバージョンは、同じ可能性のある小さな違いで機能する必要があります。

-   サーバーのフェールオーバー クラスターと Windows Server 2012 r2

-   マスター データ サービス機能で SQL Server 2016

ソリューションが 2 つの Vm を使用しても、 **MDS HA1**と**MDS HA2**、2 つのレプリカをホストします。 SQL Server AlwaysOn 可用性グループでサポートされている限り MDS に使用できるレプリカの数は制限されません。

この記事では、Windows Server、Windows Server フェールオーバー クラスター、SQL Server AlwaysOn、および SQL Server MDS に関する基本的な知識があることを前提としています。

## <a name="what-is-not-covered"></a>新機能が含まれていません。

このドキュメントは、次は取り上げません。

-   IIS、マスターをホストする web サーバーを作成する方法データ サービスの UI で、高可用性と災害後に回復します。 MDS では IIS を高可用性にして、負荷分散を標準的な手法もここで使用できるように、IIS 上の特定の要件は必要ありません。

-   MDS のバックエンドに高可用性 (HA) をサポートするために SQL Server AlwaysOn (FCI) のフェールオーバー クラスターを使用する方法。 SQL Server フェールオーバー クラスタ リングは、別の HA ソリューションは、SQL Server が正式にサポートされてされ MDS には使用します。

-   MDS のバックエンドに HA をサポートするために SQL Server フェールオーバー クラスター (FCI) と AlwaysOn 可用性グループのハイブリッド ソリューションを使用する方法。 MDS では、ハイブリッド ソリューションを使用します。

## <a name="design-consideration"></a>設計の考慮事項

図 1 は、AlwaysOn AG の多くの場合に使用される一般的な構成を示します。 プライマリ データ センターで同期コミットとのリレーションシップを持つ 2 つのレプリカがあるあり、両方のレプリカ投票権限です。 これは主に、プライマリ レプリカが失敗した場合に、HA を向上させるために使用されます。

災害復旧データ センターで、プライマリと非同期コミット関係を持つセカンダリ レプリカがあります。 このデータ センターは、通常、プライマリ データ センターとは異なる地理的領域のです。 セカンダリ レプリカには、投票特権がありません。

この構成は、プライマリ データ センターが火災、地震などなど、災害に備えて、復旧を実現するために使用されます。比較的低コストで障害が回復し、構成が両方 HA を実現します。

![AlwaysOn 可用性グループの一般的な構成](media/Fig1_TypicalConfig.png)

図 1.  一般的な AlwaysOn 可用性グループの構成

災害復旧を検討する必要はありません場合、2 番目のデータ センターに複製する必要はありません。 HA を向上させる必要がある場合、同じプライマリ データ センターに複数の同期レプリカことができます。

ようにするシナリオと要件を考慮し、非同期および同期レプリカの数を選択する必要があります、し、データ センターがする必要があります配置重要です。

## <a name="windows-server-failover-cluster-wsfc"></a>Windows Server フェールオーバー クラスター (WSFC)

このセクションでは、次のタスクについて説明します。

1.  [Windows フェールオーバー クラスター機能をインストール](#install-failover-cluster-feature)です。

2.  [Windows Server フェールオーバー クラスターを作成する](#create-a-windows-server-failover-cluster)です。

前のセクションでは図 1 に示すように、この記事で説明するソリューションには、Windows Server フェールオーバー クラスター (WSFC) が含まれています。 SQL AlwaysOn が障害の検出とフェールオーバーの WFSC に依存するために、WSFC をセットアップする必要があります。

WSFC は、アプリケーションとサービスの高可用性を向上させる機能です。 これは、グループから成る独立した windows server のインスタンスのそれらのインスタンスで実行されている Microsoft フェールオーバー クラスター サービスを使用します。 Windows server のインスタンス (またはノードように呼び出される場合があります) が接続されるため、互いに通信できるし、エラーの検出が可能です。 WSFC は、障害の検出とフェールオーバー機能を提供します。 ノードまたはサービスは、クラスターの失敗した場合、エラーが検出される、され別のノード自動または手動で障害が発生したノードでホストされているサービスを提供します。 そのため、ユーザーのみサービスで、最小の中断が発生して、サービスの可用性が向上します。  

### <a name="prerequisites"></a>前提条件

すべてのインスタンスで、Windows Server オペレーティング システムがインストールされ、すべての更新プログラムがパッチされています。

>[!NOTE] 
>**を強くお勧め**同じ Windows バージョンと潜在的な非互換性問題を回避するすべてのインスタンスに同じ機能をインストールすることです。

### <a name="install-failover-cluster-feature"></a>フェールオーバー クラスター機能をインストールします。

各インスタンスに、WSFC 機能をインストールする Windows Server のインスタンスごとに次の手順を実行します。 管理者権限が必要です。

1.  開いている**サーバー マネージャー**クリックすると、Windows Server**追加の役割と機能の**右側のウィンドウでします。 これが起動、**追加の役割と機能ウィザード**です。

2.  をクリックして**次**に到達するまで、**機能**ページ。

3.  選択、**フェールオーバー クラスタ リング** チェック ボックスをクリックし、 **次へ**インストールを完了します。 図 2 を参照してください。

    されることを確認メッセージが表示されたら場合**フェールオーバー クラスタ リングの必要な機能を追加**をクリックして**機能の追加**です。 図 3 を参照してください。

    ![役割と機能のウィザード、フェールオーバー クラスタ リングを追加します。](media/Fig2_SelectFeatures.png)

    図 2

    ![役割とフェールオーバー クラスターに必要な機能のウィザードを追加します。](media/Fig3_RequiredFeaturesFailover.png)

    図 3

4.  **確認**] ページで [**インストール**フェールオーバー クラスタ リング機能をインストールします。

5.  **結果** ページで、すべてのものがインストールされているが正常にエラーや警告なしになっていることを確認します。

### <a name="create-a-windows-server-failover-cluster"></a>Windows Server フェールオーバー クラスターを作成します。

WSFC の機能をすべてのインスタンスにインストールした後は、WSFC を構成できます。 これを行う 1 つのノードにのみ必要。

1.  開いている**サーバー マネージャー**クリックすると、Windows Server**フェールオーバー クラスター マネージャー**上、**ツール**マネージャーを起動する右上隅にあるメニュー。

2.  **フェールオーバー クラスター マネージャー**をクリックして**構成の検証**右側のウィンドウでします。 図 4 を参照してください。

    ![フェールオーバー クラスター マネージャーの構成を検証します。](media/Fig4_ValidateConfig.png)

    図 4

3.  **構成の検証****ウィザード**をクリックして**次**です。

4.  **またはクラスターのサーバーの選択** ダイアログ ボックスで、SQL Server をホストし をクリックするサーバー名を追加**次**です。 図 5 を参照してください。

    この例では、MDS HA1 と MDS HA2 の 2 つのインスタンスを追加しました。

    ![構成ウィザード、サーバーの選択 または クラスター ページを検証します。](media/Fig5_AddServer.png)

    図 5

5.  **テスト オプション** ページで、をクリックして**すべてのテストを実行**、順にクリック**次**です。

6.  をクリックして**次**検証が完了します。

    **Validating**ページには、進行状況が表示され、**概要**ページは、検証の概要を示します。 図 6 および 7 を参照してください。

7.  **概要** ページで、警告またはエラー メッセージを確認します。

    エラーを修正する必要があります。 ただし、警告は問題をできない可能性があります。 警告メッセージは、「テストした項目は、要件を満たす可能性がありますが何かを確認してください」を意味します。 たとえば、7 番組の図に、"ディスク アクセス待ち時間検証"警告、する可能性がありますが、一時的に他のタスクで使用中のディスクと、これを無視する場合があります。 それぞれの警告のオンライン ドキュメントおよび詳細については、エラー メッセージを確認する必要があります。 図 7 を参照してください。
 
    ![検証の構成ウィザード、検証ページ](media/Fig6_ValidationTests.png)

    図 6

    ![構成の検証ウィザード、[概要] ページ](media/Fig7_ValidationSummary.png)

    図 7

8.  **概要** ページで、いることを確認、**検証されたノードを使用してクラスターを作成する** チェック ボックスを選択して、をクリックして**完了**を開始する、**クラスターの作成****ウィザード**です。

9.  **クラスターの作成****ウィザード**をクリックして**次**です。

10. **クラスター管理用のアクセス ポイント** ページで、WSFC クラスター名を入力してをクリックして**次**です。 この例でとして使用する"MDS HA"クラスター名です。 図 8 を参照してください。

    ![クラスター名を入力してください。](media/Fig8_EnterClusterName.png)

    図 8

11. クリックして続行**次**クラスターの作成を完了します。 **概要のクラスター MDS HA**セクションには、クラスターの情報が表示されます。 図 9 を参照してください。

    ![クラスターの概要情報の表示](media/Fig9_ClusterSummary.png)

    図 9

    後で、ノードを追加する必要がある場合にをクリックして**ノードの追加**右側のウィンドウでのアクション**フェールオーバー クラスター マネージャー**です。

注:

-   WSFC の機能は、すべての Windows Server エディションでできない場合があります。 エディションがこの機能を持つことを確認します。

-   Active directory での WSFC のセットアップに適切なアクセス許可があることを確認してください。 すべての問題がある場合を参照してください。[フェールオーバー クラスター ステップ バイ ステップ ガイド: Active Directory のアカウントを構成する](https://technet.microsoft.com/library/cc731002(v=ws.10).aspx)です。

WSFC について詳細を参照してください。[フェイル オーバー クラスター](https://technet.microsoft.com/library/cc732488(v=ws.10).aspx)です。

## <a name="sql-server-alwayson-availability-group"></a>SQL Server AlwaysOn 可用性グループ

このセクションでは、次のタスクについて説明します。

1.  [有効にする SQL Server AlwaysOn 可用性グループ](#enable-sql-server-alwayson-availability-group-on-every-sql-server-instance)です。

2.  [可用性グループを作成する](#create-an-availability-group)です。

3.  [検証し、可用性グループのテストを](#validation-and-test-the-availability-group)です。

Sql Server AlwaysOn ソリューションは、sql Server データベースの高可用性と災害復旧を提供します。 AlwaysOn には、次の 2 つの考えられる解決策があります。
WSFC の上に構築されます。

-   AlwaysOn 可用性グループ (AG)

-   AlwaysOn フェールオーバー クラスターはインスタンス (FCI) です。

可用性グループには、データベース レベルの高可用性が向上します。 (ユーザー データベースのセット) 可用性グループとその仮想ネットワーク名は、WSFC のリソースとして登録されます。

FCI は、インスタンス レベルの高可用性を強化します。 SQL Server サービスと関連するサービスは、WSFC のリソースとして登録されます。 また、FCI のソリューションには、SAN または SMB ファイル共有である必要があります、WFC クラスター内のすべてのノードに使用できるなどの対称的な共有ディスク ストレージが必要です。


### <a name="prerequisites"></a>前提条件

-   すべてのノードでは、SQL Server をインストールします。 詳細については、「[SQL Server 2016 のインストール](https://docs.microsoft.com/sql/database-engine/install-windows/install-sql-server)」を参照してください。

-   (推奨)すべてのノードで、まったく同じ SQL Server 機能のセットとバージョンをインストールします。 具体的には、MDS をインストールする必要があります。

-   (推奨)すべての SQL Server インスタンスで同じ構成を使用します。 具体的には、同じサーバーの照合順序は、すべての SQL Server インスタンスで構成する必要があります。

-   (推奨)すべての SQL Server インスタンスを実行するのにには、同じサービス アカウントを使用します。 それ以外の場合、SQL Server インスタンスが互いに通信できるかどうかを確認する各 SQL Server インスタンスに対する権限を許可する必要があります。

-   Windows ファイアウォールの設定が互いに通信するために SQL Server インスタンスを許可することを確認します。

### <a name="enable-sql-server-alwayson-availability-group-on-every-sql-server-instance"></a>すべての SQL Server インスタンスで有効にする SQL Server AlwaysOn 可用性グループ

1.  **SQL Server 構成マネージャー**  をクリックして**SQL Server サービス**左側のウィンドウで右クリック**SQL Server**をクリックして右側のウィンドウ**プロパティ**です。 図 10 を参照してください。

    ![SQL Server のプロパティ ウィンドウ](media/Fig10_SQLServerProperties.png)

    図 10

2.  **SQL Server (MSSQLSERVER)** **プロパティ**ダイアログ ボックスで、をクリックして、 **AlwaysOn 高可用性**、タブをクリックし、 **AlwaysOn 可用性グループを有効にする**チェック ボックスをオンします。 値を表示するとき、 **Windows フェールオーバー クラスター名**テキスト ボックスで、をクリックして**[ok]**を続行します。 図 11 を参照してください。

    ![AlwaysOn 可用性グループ オプションを有効にします。](media/Fig11_EnableAlwaysOn.png)

    図 11

3.  警告ページが表示されたら、クリックして**OK**を続行します。 図 12 を参照してください。

    ![サービス停止して再起動することを確認します。](media/Fig12_WarningServiceStopStart.png)

    図 12

4.  をクリックして**再起動**、再起動、 **SQL Server**サービスし、この変更を有効にします。 図 10 を参照してください。

>[!NOTE] 
>SQL Server サービスを使用して、実行されているサービス アカウントを変更することができます、 **SQL Server 構成マネージャー**です。 クリックして、**ログオン** タブで、 **SQL Server (MSSQLSERVER)** **プロパティ** ダイアログ ボックス。 図 11 を参照してください。

### <a name="create-an-availability-group"></a>可用性グループを作成します。

すべての SQL Server インスタンスで AlwaysOn 機能を有効にしたら、1 つのノードで MDS データベースを含む新しい可用性グループを作成します。

可用性グループは、既存のデータベースでのみ作成できます。 したがって、一時データベースの作成や、一時的なデータベースを削除する 1 つのノードに MDS データベースを作成します。 この例では、emptyMDS データベースを作成し、この MDS データベースで、可用性グループを作成します。

1.  起動**SQL Server Management Studio** (**SSMS**) ノードで、適切な資格情報を持つローカルの SQL Server インスタンスに接続します。

2.  SSMS で、開く、**新しいクエリ**ウィンドウと実行、次の空のデータベースを作成するスクリプトを作成します。 C: を置き換える\\を使用して、完全バックアップを実行する場所に一時です。

    ```
    CREATE DATABASE MDS\_Sample
    GO
    BACKUP DATABASE MDS\_Sample TO DISK='C:\\temp'
    GO
    ```

    >[!NOTE] 
    >データベースの完全バックアップは、このデータベースで、可用性グループを作成する必要があります。

3.  **オブジェクト エクスプ ローラー**、展開、 **AlwaysOn 高可用性**フォルダーとクリック**新しい可用性グループ ウィザード**を起動する、**新しい可用性グループ ウィザード**です。 図 13 を参照してください。

    ![新しい可用性グループの起動ウィザード](media/Fig13_AvailabilityGroupsFolder.png)

    図 13

4.  **新しい可用性グループ**ウィザード、をクリックして**次**を表示する、**名の指定**ページ。 クリックして、可用性グループの名前を入力**次**です。 図 14 を参照してください。

    ![可用性グループの名前を入力してください。](media/Fig14_AvailabilityGroupName.png)

    図 14

5.  作成したデータベースをクリックして、**データベースの選択** ページで、クリックして**次へ**です。 図 15 を参照してください。

    ![データベースを選択します。](media/Fig15_AvailabilityGroupSelectDatabase.png)

    図 15

6.  **レプリカの指定** ページをクリックして別のレプリカを追加**のレプリカ追加**です。 既に、このページでは、現在、ローカルの SQL Server インスタンスがレプリカとして一覧表示します。 図 16 を参照してください。

7.  **サーバーへの接続** ダイアログ ボックスで適切な資格情報を追加し、をクリックして**接続**です。

    ![SQL Server インスタンスに接続します。](media/Fig16_AddReplicaConnectServer.png)

    図 16

    これで、リスト内の 2 つのレプリカが表示されます。 レプリカとして他のノードを追加するには、この手順を繰り返します。 図 17 を参照してください。

    ![レプリカの一覧を表示](media/Fig17_AvailabilityGroupSQLReplicas.png)

    図 17

    各レプリカに対して、次の構成を**同期コミット**、**自動フェールオーバー**、および**読み取り可能セカンダリ**設定します。 図を参照してください。
17.

    **同期コミット**: データベースのプライマリ レプリカでトランザクションがコミットする場合、トランザクションも確実にコミットの他のすべての同期レプリカ保証します。 非同期コミット モードとは限りませんこれと、プライマリ レプリカより遅延するその可能性があります。

    通常、2 つのノードが同じデータ センターにいる場合にのみにも、同期コミット モードが有効にする必要があります。 異なるデータ センターでは、同期コミット可能性がありますがデータベースのパフォーマンス低下します。

    このチェック ボックスが選択されていない場合は、非同期コミット モードが使用されます。

    **自動フェールオーバー:**プライマリ レプリカは、ときに、可用性グループが自動的にフェールオーバー セカンダリ レプリカに自動フェールオーバーを選択するとします。 また、同期コミットのレプリカでに有効にするだけです。

    **読み取り可能セカンダリ:**既定では、ユーザーは、すべてのセカンダリ レプリカに接続できません。 これは、読み取り専用アクセス権を持つセカンダリ レプリカに接続するユーザーを有効になります。

8.  **レプリカの指定** ページで、をクリックして、**リスナー**タブし、次の操作です。 図 18 を参照してください。

    a.  をクリックして**可用性グループ リスナーを作成する**MDS データベース接続の可用性グループ リスナーを設定します。

    b.  入力、**リスナーの DNS 名前**、MDSSQLServer などです。

    c.  既定の SQL ポートの 1433 を入力してください、**ポート**テキスト ボックス。

    d.  DHCP を入力、**ネットワーク モード**テキスト ボックス、およびクリック**[次へ]**を続行します。

    >[!NOTE] 
    >必要に応じて、として"静的 IP アドレスを選択すること、**ネットワーク モード**と静的 ip アドレスを入力します。 1433 以外のポートを入力することもできます。 

    ![リスナーを構成します。](media/Fig18_AvailabilityGroupCreateListener.png)

    図 18

9.  **[データの同期**] ページで、をクリックして**完全**、し、すべてのノードにアクセスできるネットワーク共有を指定します。 **[次へ]** をクリックして次に進みます。 図 19 を参照してください。

    このネットワーク共有は、セカンダリ レプリカを作成するデータベース バックアップの格納に使用されます。 この情報が組織で使用可能でない場合は、別のデータの同期設定を選択します。 参照してください[SQL Server 2016 AlwaysOn 可用性グループ](https://docs.microsoft.com/sql/database-engine/availability-groups/windows/always-on-availability-groups-sql-server)の他のオプションを使用して、セカンダリ レプリカを作成する方法です。 図 17 には、その他のオプションも表示されます。

    ![データの同期を構成します。](media/Fig19_AvailabilityGroupDataSync.png)

    図 19 

10. **検証** ページで、すべての検証が正常に渡すし、エラーを修正を確認してください。 **[次へ]** をクリックして次に進みます。

11. **概要** ページで、すべての構成設定を確認してをクリックして**完了**です。 可用性グループの作成、構成します。

12. **結果** ページで、すべての必要な手順を完了したことを確認します。

### <a name="validation-and-test-the-availability-group"></a>検証とテスト、可用性グループ

1.  SSMS で作成したリスナーの DNS 名に接続して、[可用性グループを作成する](#create-an-availability-group)セクションです。 この例では、MDSSQLServer を勧めします。

2.  **オブジェクト エクスプ ローラー**、展開、 **AlwaysOn 高可用性**フォルダーで、した可用性グループの作成で右クリックして、[可用性グループを作成](#create-an-availability-group)セクションで、クリックして**ダッシュ ボードの表示**です。 図 20 を参照してください。 新しい可用性グループとそのレプリカの状態が表示されます。

    ![ダッシュ ボードを表示します。](media/Fig20_ShowDashboard.png)

    図 20 

3.  をクリックして**フェールオーバー**同期レプリカと、非同期レプリカに対してフェールオーバーを実行します。 これは問題なくそのフェールオーバーが正しく発生することを確認します。

 AlwaysOn のセットアップが完了します。

AlwaysOn 可用性グループの詳細については、次を参照してください。 [SQL Server 2016 AlwaysOn 可用性グループ](https://docs.microsoft.com/sql/database-engine/availability-groups/windows/always-on-availability-groups-sql-server)です。

## <a name="configure-mds-to-run-on-an-wsfc-node"></a>WSFC ノードで実行するように MDS を構成します。

この記事で紹介するこのソリューションには、WSFC で実行されている MDS バックエンドのデータベースのみが必要です。 Web アプリケーションや MDS 構成マネージャーなど、MDS の他の部分を実行できますか、または WSFC では、外側の wsfc ノードに MDS は、可用性グループに接続できる限り。

1.  開いている**マスター データ サービス構成マネージャー** 1 つのノードをクリックして**データベースの構成**、順にクリック**Create Database**を起動する、**データベースの作成ウィザード**です。

2.  **データベース サーバー**  ページで、可用性グループ リスナー DNS 名を入力、 **SQL Server インスタンス**テキスト ボックスで、をクリックして**接続のテスト**、順にクリック**次へ**です。 図 21 を参照してください。

    ![可用性グループ リスナーにはデータベース サーバーを構成します。](media/Fig21_MDSDatabaseServerListener.png)

    図 21

3.  **データベース** ページで作成したデータベースの名前を入力、[可用性グループを作成する](#create-an-availability-group)セクションで、クリックして**[次へ]**です。 図 22 を参照してください。

    ![作成し、データベースを構成します。](media/Fig22_MDSCreateDatabase.png)

    図 22

4.  完了、**データベースを作成する****ウィザード**です。 詳細については、次を参照してください。[マスター データ サービスのインストールと構成](https://docs.microsoft.com/sql/master-data-services/master-data-services-installation-and-configuration)です。

5.  をクリックして**Web アプリケーション**で**マスター データ サービス構成マネージャー**を Web アプリケーションを構成し、をクリックして**適用**MDS に、設定を適用します。 図 23 を参照してください。 詳細については、次を参照してください。[マスター データ サービスのインストールと構成](https://docs.microsoft.com/sql/master-data-services/master-data-services-installation-and-configuration)です。

    ![Web アプリケーションを構成します。](media/Fig23_MDSWebApplication.png)

    図 23

    MDS のセットアップが完了します。 すべてのノード上で実行する MDS を設定する上記の手順を繰り返すことができます。 バックエンドのデータベースは、同じ AG に同じです。

6.  以前に一時データベースを作成する場合 (を参照してください[可用性グループを作成する](#create-an-availability-group)セクション) に AlwaysOn 可用性グループを作成し、必要がありますを削除する一時データベース

    マスター データ サービスの詳細についてを参照してください[Master Data Services](https://docs.microsoft.com/sql/master-data-services/master-data-services-overview-mds)です。

## <a name="conclusion"></a>まとめ

このホワイト ペーパーを設定および SQL Server AlwaysOn 可用性グループの上にマスター データ サービスのバックエンド データベースを構成する方法をきました。 この構成は、マスター データ サービスがバックエンド データベースに高可用性と災害復旧を提供します。 この構成を実装するのには、インストールして Windows Server フェールオーバー クラスターで SQL Server AlwaysOn 可用性グループ、およびマスター データ サービスを構成する必要があります。

## <a name="feedback"></a>フィードバック

このホワイト ペーパーはお役に立ちましたか?  ください。 フィードバックはこちらをクリックして**コメント**、記事の上部にあります。 

お客様のフィードバックをリリース ホワイト ペーパーの品質を向上させる協力します。 


