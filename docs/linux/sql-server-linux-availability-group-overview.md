---
title: "Linux 上の SQL Server の always On 可用性グループ |Microsoft ドキュメント"
description: 
author: MikeRayMSFT
ms.author: mikeray
manager: jhubbard
ms.date: 06/14/2017
ms.topic: article
ms.prod: sql-linux
ms.technology: database-engine
ms.assetid: e37742d4-541c-4d43-9ec7-a5f9b2c0e5d1
ms.translationtype: MT
ms.sourcegitcommit: 1419847dd47435cef775a2c55c0578ff4406cddc
ms.openlocfilehash: c5c7e602ac1beedb028072b4c82578e9948af43d
ms.contentlocale: ja-jp
ms.lasthandoff: 08/02/2017

---
# <a name="availability-groups-for-sql-server-on-linux"></a>Linux 上の SQL Server の可用性グループ

[!INCLUDE[tsql-appliesto-sslinux-only](../includes/tsql-appliesto-sslinux-only.md)]

SQL Server Always On 可用性グループは高可用性 (HA) の場合、災害復旧 (DR) およびスケール アウト ソリューションです。 直接接続されたストレージ上のデータベースのグループに対して HA を提供します。 統合の HA および災害復旧、障害の自動検出、高速透過フェールオーバー、および読み取りの負荷分散の複数のセカンダリをサポートしています。 この機能の広範なセットでは、ワークロードの最適な可用性の Sla を達成することができます。

SQL Server 可用性グループは、SQL Server 2012 で導入されたおよびリリースされるたびに改善されています。 この機能は、Linux で使用できるようになりました。 可用性グループがサポートされているすべての実行厳格なビジネス継続性の要件を持つ SQL Server のワークロードに合わせて、 [Linux OS ディストリビューション](sql-server-linux-release-notes.md)です。 また、可用性グループの柔軟な統合かつ効果的な災害復旧の HA ソリューションを構成するすべての機能も Linux で利用可能です。 たとえば、次のオブジェクトにアクセスできます。 

- **複数のデータベースのフェールオーバー**可用性グループは、ユーザー データベースを可用性データベースとして知られる一連のフェールオーバー環境をサポートします。
- **障害の検出とフェールオーバーを高速**高可用性クラスター内のリソースとして可用性グループにメリットが即時のフェールオーバーの検出とフェールオーバー操作のための組み込みクラスター インテリジェンスします。
- **仮想 IP リソースを使用した透過的なフェールオーバー**フェールオーバーが発生した場合にプライマリを 1 つの接続文字列を使用するクライアントを有効にします。 クラスター マネージャーとの統合が必要です。
- **複数の同期および非同期のセカンダリ**可用性グループは、最大 8 つのセカンダリ レプリカをサポートします。 同期レプリカで、プライマリ レプリカはプライマリ レプリカがトランザクションをトランザクション ログのディスクに書き込まれるために待機するトランザクションのコミットを待機します。 プライマリ レプリカは、同期レプリカが非同期で書き込みは待機しません。  
- **手動または自動フェールオーバー**同期セカンダリ レプリカにフェールオーバーによってトリガー可能自動的にクラスターでまたは必要に応じて、データベース管理者です。
- **アクティブなセカンダリが読み取りおよびバックアップ ワークロードのために使用できる**セカンダリ データベースに対する読み取り専用のアクセスをサポートするために、またはセカンダリ データベースでバックアップを許可するように、1 つ以上のセカンダリ レプリカを構成することができます。
- **自動シード処理**SQL Server は、可用性グループ内のすべてのデータベースのセカンダリ レプリカを自動的に作成されます。
- **読み取り専用ルーティング**SQL Server が読み取り専用ワークロードを許可するように構成するセカンダリ レプリカに可用性グループ リスナーへの着信接続をルーティングします。 
- **データベース レベルのヘルスの監視とフェールオーバーのトリガー**データベース レベルの監視と診断を強化します。 
- **障害回復構成**分散型可用性グループ、またはマルチ サブネットの可用性グループの設定とします。 
- **読み取りスケール機能**で SQL Server 2017 できるグループを作成する可用性 HA の有無のスケール アウトの読み取り専用の操作です。 


SQL Server 可用性グループに関する詳細については、「 [SQL Server Always On 可用性グループ](http://msdn.microsoft.com/library/hh510230.aspx)です。

## <a name="availability-group-terminology"></a>可用性グループの用語集

可用性グループは、独立した、ユーザー データベースの可用性データベースのまとまりでフェールオーバーされると呼ばれる一連のフェールオーバー環境をサポートします。 可用性グループは、読み取り/書き込みプライマリ データベースの 1 つのセットと 1 ~ 8 セットの対応するセカンダリ データベースをサポートします。 必要に応じて、セカンダリ データベースで読み取り専用アクセスまたはいくつかのバックアップ操作を利用できます。 可用性グループでは、可用性レプリカと呼ばれる 2 つ以上のフェールオーバー パートナーのセットを定義します。 可用性レプリカは、可用性グループのコンポーネントです。 詳細をご覧ください[概要の Always On 可用性グループ (SQL Server)](http://msdn.microsoft.com/library/ff877884.aspx)です。

次の用語では、SQL Server 可用性グループのソリューションの主要な部分について説明します。

 可用性グループ  
 ひとまとまりでフェールオーバーされるデータベースのセット ( *可用性データベース*) のコンテナー。  
  
 可用性データベース  
 可用性グループに属しているデータベース。 可用性データベースごとに、可用性グループは 1 個の読み取り/書き込み可能なコピー ( *プライマリ データベース*) と 1 ～ 8 個の読み取り専用コピー (*セカンダリ データベース*) を管理します。  
  
 プライマリ データベース  
 可用性データベースの読み取り/書き込み可能なコピー。  
  
 セカンダリ データベース (secondary database)  
 可用性データベースの読み取り専用コピー。  
  
 可用性レプリカ  
 SQL Server の特定のインスタンスによってホストされ、可用性グループに属する各可用性データベースのローカル コピーを保持する可用性グループのインスタンス化します。 可用性グループには、2 種類の可用性レプリカ ( *プライマリ レプリカ* と 1 ～ 8 個の *セカンダリ レプリカ*) があります。  
  
 プライマリ レプリカ  
 クライアントからプライマリ データベースへの読み取り/書き込み接続を可能にし、各プライマリ データベースのトランザクション ログ レコードをすべてのセカンダリ レプリカに送信する可用性レプリカ。  
  
 セカンダリ レプリカ  
 各可用性データベースのセカンダリ コピーを保持し、可用性グループの潜在的なフェールオーバー ターゲットとして機能する可用性レプリカ。 必要に応じて、セカンダリ レプリカは、セカンダリ データベースへの読み取り専用アクセスと、セカンダリ データベース上でのバックアップの作成をサポートできます。  
  
 可用性グループ リスナー  
 可用性グループのプライマリ レプリカまたはセカンダリ レプリカ内のデータベースにアクセスするためにクライアントが接続できるサーバー名。 可用性グループ リスナーは、プライマリ レプリカまたは読み取り専用セカンダリ レプリカに着信接続をダイレクトします。  


## <a name="new-in-sql-server-2017-for-availability-groups"></a>可用性グループの新しい SQL Server 2017

SQL Server 2017 には、可用性グループの新しい機能が導入されています。

**CLUSTER_TYPE**併用`CREATE AVAILABILITY GROUP`です。 可用性グループを管理するサーバー クラスター マネージャーの種類を識別します。 次の種類のいずれかを指定できます。

   - **WSFC** Winows server フェイル オーバー クラスター。 Windows、CLUSTER_TYPE の既定値です。
   - **外部**上にあるいない Windows server フェールオーバー クラスター - たとえば、ペースの Linux クラスター マネージャー。
   - **NONE**クラスター マネージャーがありません。 読み取りのスケールの可用性グループのために使用します。

これらのオプションの詳細については、次を参照してください。 [CREATE AVAILABILITY GROUP](http://msdn.microsoft.com/library/ff878399.aspx)または[ALTER AVAILABILITY GROUP](http://msdn.microsoft.com/library/ff878601.aspx)です。

**同期セカンダリ レプリカ上の保証をコミットします。**

Use `required_synchronized_secondaries_to_commit`with `CREATE AVAILABILITY GROUP` or `ALTER AVAILABILITY GROUP`. ときに`required_synchronized_secondaries_to_commit`トランザクション データベースは、指定した数のトランザクションがコミットされるまでに待機するプライマリ レプリカで、0 より大きい値に設定されている**同期セカンダリ**レプリカ データベースのトランザクション ログです。 十分な同期セカンダリ レプリカがオンラインでない場合は、十分なセカンダリ レプリカとの通信が再開されるまでのプライマリ レプリカへのすべての接続は拒否されます。

**読み取りのスケールの可用性グループ**

読み取りスケール ワークロードをサポートせず、クラスターの可用性グループを作成します。 参照してください[可用性グループの読み取りスケール](../database-engine/availability-groups/windows/read-scale-availability-groups.md)です。

## <a name="next-steps"></a>次の手順

[Linux 上の SQL Server の可用性グループを構成します。](sql-server-linux-availability-group-configure-ha.md)

[SQL Server on Linux の読み取りのスケールの可用性グループを構成します。](sql-server-linux-availability-group-configure-rs.md)

[RHEL で可用性グループのクラスター リソースを追加します。](sql-server-linux-availability-group-cluster-rhel.md)

[SLES で可用性グループのクラスター リソースを追加します。](sql-server-linux-availability-group-cluster-sles.md)

[Ubuntu で可用性グループのクラスター リソースを追加します。](sql-server-linux-availability-group-cluster-ubuntu.md)

