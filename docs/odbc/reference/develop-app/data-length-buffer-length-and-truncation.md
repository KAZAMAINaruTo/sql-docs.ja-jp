---
title: データの長さ、バッファー長、および切り捨て |Microsoft ドキュメント
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.suite: sql
ms.technology: connectivity
ms.tgt_pltfrm: ''
ms.topic: conceptual
helpviewer_keywords:
- data buffers [ODBC], length
- data length [ODBC]
- truncating data [ODBC]
- length of data buffers [ODBC]
- buffers [ODBC], length
ms.assetid: 2825c6e7-b9ff-42fe-84fc-7fb39728ac5d
caps.latest.revision: 6
author: MightyPen
ms.author: genemi
manager: craigg
ms.openlocfilehash: 20d0e05e9739cbc8382a7a23c58b48084415990c
ms.sourcegitcommit: 1740f3090b168c0e809611a7aa6fd514075616bf
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/03/2018
ms.locfileid: "32912799"
---
# <a name="data-length-buffer-length-and-truncation"></a>データの長さ、バッファー長、および切り捨て
*データ長*はデータのバイト長アプリケーションのデータ バッファーに格納されますが、データ ソースに格納されていることがではありません。 データは多くの場合よりも、データ ソース内のデータ バッファー内のさまざまな種類に格納されているために、この区別は重要です。 したがって、データ ソースに送信されるデータ、これは、データ ソースの型への変換前に、のデータのバイト長です。 データ ソースから取得されるデータ、これは、データのバイト長切り捨てが行われる前に、データ バッファーの型に変換した後です。  
  
 整数や日付構造体などの固定長データ、データのバイトの長さは常に値がデータ型のサイズです。 一般に、アプリケーションは、データ型のサイズのデータ バッファーを割り当てます。 場合は、アプリケーションでは、小さなバッファーを割り当て、結果は未定義ため、ドライバーには、データ バッファーはデータ型のサイズでありより小さなバッファーに収まるようにデータが切り捨てられないことが前提としています。 場合は、アプリケーションより大きなバッファーを割り当て、余分なスペースは使用されません。  
  
 文字またはバイナリ データなどの可変長データにすることが重要データのバイト長が独立しており、バッファーのバイト長よりも多くの場合、さまざまなことを認識します。 これら 2 つの長さの関係については、「、[バッファー](../../../odbc/reference/develop-app/buffers.md)セクションです。 データのバイトの長さが、バッファーのバイト長よりも大きい場合は、ドライバーは、バッファーのバイト長を取得したデータが切り捨てられ、SQL_SUCCESS_WITH_INFO と SQLSTATE 01004 (データが切り捨てられました) を返します。 、返されるバイトの長さが切り詰められていないデータの長さです。  
  
 たとえば、アプリケーションは 50 バイトをバイナリ データ バッファーを割り当てます。 ドライバーの 10 バイトのバイナリ データを返す場合は、バッファーにそれらの 10 バイトを返します。 データのバイト長が 10 で、バッファーのバイトの長さは 50 です。 ドライバーが 60 のバイトのバイナリのデータを返す場合は、バッファー内のそれらのバイトを返します、および、sql_success_with_info が返されます、50 バイトにデータが切り捨てられます。 データのバイト長は 60 (切り捨て前に長さ) であり、バッファーのバイトの長さは 50 のままです。  
  
 各列が切り捨てられている診断レコードが作成されます。 ドライバーがこれらのレコードを作成するため、それらを処理するためにアプリケーション時間がかかるために、切り捨てによってパフォーマンスが低下します。 通常、アプリケーションを回避できますこの問題、十分な大きさのバッファーを割り当てることによってできませんが、これが可能な長い形式のデータを操作するとき。 データの切り捨てが発生すると、アプリケーションことができる場合もありますより大きなバッファーを割り当てるし、データの再フェッチこれは常に該当しません。 呼び出しによるデータの取得中に切り捨てが発生した場合**SQLGetData**、アプリケーションを呼び出す必要がありますいない**SQLGetData**返されたデータの詳細についてを参照してください[Getting長い形式のデータ](../../../odbc/reference/develop-app/getting-long-data.md)です。
