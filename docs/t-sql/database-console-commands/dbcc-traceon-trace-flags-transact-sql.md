---
title: "トレース フラグ (TRANSACT-SQL) |Microsoft ドキュメント"
ms.custom: 
ms.date: 07/17/2017
ms.prod: sql-non-specified
ms.reviewer: 
ms.suite: 
ms.technology:
- database-engine
ms.tgt_pltfrm: 
ms.topic: language-reference
dev_langs:
- TSQL
helpviewer_keywords:
- trace flags [SQL Server], about trace flags
- trace flags [SQL Server]
- global trace flags [SQL Server]
- flags [SQL Server]
- session trace flags [SQL Server]
- performance [SQL Server], trace
- debugging [SQL Server], trace flags
ms.assetid: b971b540-1ac2-435b-b191-24399eb88265
caps.latest.revision: 171
author: pmasl
ms.author: pelopes
manager: jhubbard
ms.workload: Active
ms.translationtype: MT
ms.sourcegitcommit: 80c1228faeaaa4012afc0fd27992a2f5cf389f6e
ms.openlocfilehash: 16e963170716b8c135bb01ffb5fcd9cf86e65256
ms.contentlocale: ja-jp
ms.lasthandoff: 10/05/2017

---
# <a name="dbcc-traceon---trace-flags-transact-sql"></a>DBCC TRACEON - トレース フラグ (TRANSACT-SQL)
[!INCLUDE[tsql-appliesto-ss2012-xxxx-xxxx-xxx_md](../../includes/tsql-appliesto-ss2012-xxxx-xxxx-xxx-md.md)]

トレース フラグは、サーバー固有の特性を設定したり、特定の動作を切り替えるときに使用します。 たとえば、トレース フラグ 3205 が設定されている場合のインスタンス[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]開始の場合は、テープ ドライバーは無効になってハードウェア圧縮します。 トレース フラグは、パフォーマンスの問題を診断したり、ストアド プロシージャや複雑なシステムをデバッグするときによく使用されます。
  
次の表で使用できるトレース フラグを示し[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]です。
 
> [!NOTE]
> 一部のトレース フラグは、固有の仕様で導入された[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]バージョン。 該当するバージョンの詳細については、特定のトレース フラグに関連付けられているマイクロソフト サポートの記事を参照してください。

> [!IMPORTANT]
> トレース フラグの動作は、の将来のリリースではサポートされない[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]です。 

  
|トレース フラグ|Description|  
|---|---|
|**139**| DBCC のスコープ内の変換のセマンティクスの確認などのコマンドを正しい強制的[DBCC CHECKDB](../../t-sql/database-console-commands/dbcc-checkdb-transact-sql.md)、 [DBCC CHECKTABLE](../../t-sql/database-console-commands/dbcc-checktable-transact-sql.md)と[DBCC CHECKCONSTRAINTS](../../t-sql/database-console-commands/dbcc-checkconstraints-transact-sql.md)、分析するときに、強化された有効桁数と変換ロジックより低い互換性レベルを持つデータベースで特定のデータ型の互換性レベル 130 で導入されました。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/help/4010261)です。<br /><br />**注:**にこのトレース フラグが適用されます[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]RTM CU3、 [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 と高いビルドします。<br /><br />**警告:**トレース フラグ 139、実稼働環境で継続的に有効にするものではありませんし、データベースの検証を実行した場合の唯一の目的のために使用する必要がありますでは、この説明を確認[Microsoft サポート記事](http://support.microsoft.com/help/4010261). すぐにあります検証チェックが完了した後です。<br /><br />**スコープ**: グローバルのみ|
|**174**|増加、 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 64 ビット システムで 160,001 に 40,009 からキャッシュ バケット数を計画します。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/3026083)です。<br /><br />**注:**を実稼働環境に展開する前に、このオプションを十分にテストすることを確認してください。<br /><br />**スコープ**: グローバルのみ|
|**176**|オンラインの計算パーティション分割列を含むテーブルのパーティションを再構築するときは、アドレスのエラーを修正プログラムを有効にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/3213683)です。<br /><br />**スコープ**: グローバルまたはセッション|
|**205**|統計情報に依存するストアド プロシージャは、統計の自動更新の結果として再コンパイルされるときに、エラー ログをレポートします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/195565)です。<br /><br />**スコープ**: グローバルのみ|
|**260**|拡張ストアド プロシージャのダイナミックリンク ライブラリ (DLL) に関するバージョン情報を出力します。 詳細については**GetXpVersion()**を参照してください[拡張ストアド プロシージャの作成](../../relational-databases/extended-stored-procedures-programming/creating-extended-stored-procedures.md)です。<br /><br />**スコープ:**グローバルまたはセッション|
|**272**|サーバーが予期せず再起動やセカンダリ サーバーにフェールオーバーした場合、id 列の値のギャップを回避する identity 事前割り当てを無効にします。 Id 列を持つテーブルの挿入のパフォーマンスを向上させるためにユーザーのキャッシュを使用することに注意してください。<br /><br />**注:**で始まる[!INCLUDE[ssSQL17](../../includes/sssql17-md.md)]、これには、データベース レベルに IDENTITY_CACHE オプションが表示する[ALTER DATABASE SCOPED CONFIGURATION & #40 です。TRANSACT-SQL と #41 です。](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**スコープ**: グローバルのみ|
|**610**|コントロールには、インデックス付きテーブルに挿入最小ログ記録。 このトレース フラグがインデックス付きテーブルの既定値で最小ログ記録がオン、SQL Server 2016 の開始が必要です。 SQL Server 2016 では、一括読み込み操作により、新しいページが割り当てられるすべての新しいページを順番に入力行の最小ログ記録が最小ログ記録の他のすべての必須コンポーネントが満たしている場合。 インデックスの順序を維持するために既存のページ (ない新しいページの割り当て) に挿入される行はまだ完全にログ記録の結果として移動された行とページの読み込み中に分割します。 割り当てとページためだけのの中にページ ロックは取得、またはエクステントの割り当てがログに記録されますどおりに動作する最小ログ記録操作のインデックス (これは既定では、ON を使用) で点灯 ALLOW_PAGE_LOCKS を理解しておくこともできます。詳細については、次を参照してください。[パフォーマンス チューニング技法](https://msdn.microsoft.com/library/dd425070.aspx)です。<br /><br />**スコープ**: グローバルまたはセッション|
|**634**|バックグラウンドの列ストア圧縮タスクを無効にします。 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]定期的に圧縮されていないデータ時、このような 1 つの行グループと列ストア インデックスの行グループを圧縮する組ムーバーによるバック グラウンド タスクを実行します。<br /><br />列ストアの圧縮によりクエリのパフォーマンスは向上しますが、この処理はシステム リソースを消費します。 トレース フラグ 634 でバック グラウンド圧縮タスクを無効にして、ALTER INDEX を明示的に呼び出すことで、手動で列ストア圧縮のタイミングを制御できます.REORGANIZE または ALTER INDEX.任意の時点で再構築します。<br /><br />**スコープ:**グローバルのみ|
|**652**|ページのプリフェッチのスキャンを無効にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/920093)です。<br /><br />**スコープ**: グローバルまたはセッション|
|**661**|ゴースト レコードの削除プロセスを無効にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/920093)です。<br /><br />**スコープ**: グローバルのみ|
|**692**|一括読み込みデータ ヒープまたはクラスター化インデックスの中に高速な挿入を無効にします。 開始[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]、高速な挿入が既定のデータベースが新しいページに挿入されるレコードの挿入のパフォーマンスを最適化するために単純なまたは一括ログに記録された復旧モデルの場合、最小ログ記録を活用することで有効にします。 高速な挿入では、各一括読み込みのバッチは、挿入のパフォーマンスを最適化するために使用可能な空き領域を持つ既存のエクステントの割り当ての参照をバイパスして、新しいエクステントを取得します。<br /><br /> 高速な挿入で一括はサイズがエクステントが完全にいっぱいにバッチごとの大きなバッチ サイズを使用することをお勧めためオブジェクトによって消費されている未使用の領域を増加する可能性が小さいバッチが読み込まれます。 バッチ サイズを増やすと実行できない場合、このトレース フラグはパフォーマンスは低下予約されている未使用の領域を減らすのに役立ちます。 <br /><br />**注:**にこのトレース フラグが適用されます[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]RTM と高いビルドします。<br /><br />**スコープ**: グローバルまたはセッション|
|**715**|一括読み込み操作に、非クラスター化インデックスのヒープ テーブル ロックを有効にしません。 このトレース フラグを有効にすると、一括読み込み操作は、一括テーブルにデータをコピーするときに、一括更新 (BU) ロックを取得します。 一括更新 (BU) ロックは、データを一括読み込みに同時に、同じテーブルをテーブルにアクセスするデータの一括読み込みではない他のプロセス間に複数のスレッドを許可します。<br /><br />動作は、ユーザーに明示的に指定されている場合 TABLOCK ヒント一括読み込みの場合は、実行中に似ています、または特定のテーブルのロックと、sp_tableoption の表に、一括読み込みでは有効になっています。 ただし、このトレース フラグを有効にすると、この動作は既定のクエリまたはデータベースの変更を加えずになります。<br /><br />**スコープ:**グローバルまたはセッション|
|**834**|バッファー プールに大きなページ割り当ては Microsoft Windows を使用します。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/3210239)です。<br /><br />**注:**の列ストア インデックス機能を使用している場合[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]に[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]、オンにするトレース フラグ 834 勧めしません。<br /><br />**スコープ**: グローバルのみ|
|**902**|累積更新プログラムまたは Service Pack をインストールするときに、データベース アップグレード スクリプトの実行をバイパスします。 スクリプト アップグレード モード中にエラーが発生した場合は、ガイダンスについてはさらに Microsoft SQL のカスタマー サービスおよびサポート (CSS) にお問い合わせくださいすることをお勧めします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2163980)です。<br /><br />**警告:**このトレース フラグがスクリプト アップグレード モード中に障害が発生した更新プログラムのトラブルシューティングの目的し、して、実稼働環境で継続的に実行することはできません。 データベースのアップグレード スクリプトの累積的な更新プログラムおよびサービス パックの完全なインストールが正常に実行する必要があります。 そうしないで予期しない問題が発生することができます、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]インスタンス。<br /><br />**スコープ**: グローバルのみ|
|**1117**|グループ内のファイルが自動拡張のしきい値を満たさない場合に、ファイル グループ内のすべてのファイルが拡大されます。<br /><br />**注:**で始まる[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]ALTER DATABASE の AUTOGROW_SINGLE_FILE および AUTOGROW_ALL_FILES オプションによってこの動作を制御し、トレース フラグ 1117 が影響を与えません。 詳細については、次を参照してください[ALTER DATABASE の File および Filegroup オプション &#40;。TRANSACT-SQL と #41 です。](../../t-sql/statements/alter-database-transact-sql-file-and-filegroup-options.md).<br /><br />**スコープ:**グローバルのみ|
|**1118**|サーバー上のほとんどの単一ページの割り当てが解除され、SGAM ページでの競合が減少します。 既定では、新しいオブジェクトの作成時に、最初の 8 ページが異なるエクステント (混合エクステント) から割り当てられます。 後でページを追加する必要が生じる場合、それらのページは同じエクステント (単一エクステント) から割り当てられます。 SGAM ページはこれらの混合エクステントを追跡するのに使用されます。これは、混合ページの割り当てが多く発生した場合に、それらの混合エクステントが即座にボトルネックとなる可能性があるためです。 新しいオブジェクトを作成する際、このトレース フラグにより 8 ページすべてが同じエクステントから割り当てられるため、SGAM ページをスキャンする必要性が最小限に抑えられます。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/328551)です。<br /><br />**注:**で始まる[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]ALTER DATABASE の SET MIXED_PAGE_ALLOCATION オプションによってこの動作を制御し、トレース フラグ 1118 は影響を与えません。 詳細については、「[ALTER DATABASE の SET オプション &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md)」を参照してください。<br /><br />**スコープ:**グローバルのみ|  
|**1204**|デッドロックに関係しているロックのリソースと種類、および影響を受けている現在のコマンドを返します。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/832524)です。<br /><br />**スコープ:**グローバルのみ|  
|**1211**|メモリの負荷またはロック数に基づいて、ロックのエスカレーションを無効にします。 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]において、行ロックまたはページ ロックはテーブル ロックにエスカレートされません。<br /><br />トレース フラグを使用すると、過剰な数のロックが生成されることがあり、 これが原因で[!INCLUDE[ssDE](../../includes/ssde-md.md)]のパフォーマンスが悪化したり、メモリ不足によって 1204 エラー (ロック リソース割り当て不能) が発生する可能性があります。<br /><br />トレース フラグ 1211 と 1224 の両方を設定した場合、1224 よりも 1211 が優先されます。 ただし、トレース フラグ 1211 では、メモリに負荷がかかっていたとしてもすべての場合のエスカレーションが無効になるわけではないので、1224 の使用をお勧めします。 1224 を使用すると、多数のロックが使用中でも "ロック不足" エラーを回避することができます。<br /><br />**スコープ**: グローバルまたはセッション|  
|**1222**|デッドロックに関係しているロックのリソースと種類、および影響を受けている現在のコマンドを、どの XSD スキーマにも準拠しない XML 形式で返します。<br /><br />**スコープ**: グローバルのみ|  
|**1224**|ロック数に基づいてロックのエスカレーションを無効にします。 ただし、メモリに負荷がかかっていてもロックのエスカレーションは有効にできます。 [!INCLUDE[ssDE](../../includes/ssde-md.md)] では、ロック オブジェクトで使用されるメモリ量が次のいずれかの条件を超えた場合に、行ロックまたはページ ロックがテーブル ロック (またはパーティション ロック) にエスカレートされます。<br /><br />のによって使用されるメモリ 40%[!INCLUDE[ssDE](../../includes/ssde-md.md)]です。 これは、該当する場合にのみ、**ロック**sp_configure のパラメーターが 0 に設定します。<br />の使用して構成されているロック メモリ 40%、**ロック**sp_configure のパラメーターです。 詳細については、「 [サーバー構成オプション &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md)サーバー構成オプションを構成する方法について説明します。<br /><br />トレース フラグ 1211 と 1224 の両方を設定した場合、1224 よりも 1211 が優先されます。 ただし、トレース フラグ 1211 では、メモリに負荷がかかっていたとしてもすべての場合のエスカレーションが無効になるわけではないので、1224 の使用をお勧めします。 1224 を使用すると、多数のロックが使用中でも "ロック不足" エラーを回避することができます。<br /><br />**注:**の LOCK_ESCALATION オプションを使用して、テーブル レベルまたは HoBT レベルの粒度にロックのエスカレーションを制御することも、 [ALTER TABLE](../../t-sql/statements/alter-table-transact-sql.md)ステートメントです。<br /><br />**スコープ:**グローバルまたはセッション|
|**1236**|データベース ロックのパーティション分割を使用できます。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2926217)です。<br /><br />**注:**で始まる[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]SP3 と[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]1236 エンジンとトレース フラグでこの動作を制御 SP1 も何も起こりません。<br /><br />**スコープ**: グローバルのみ|
|**1237**|既定では、可能性の高いデッドロックの対象ではなく、現在のユーザー定義のセッションのデッドロック優先度を優先する ALTER PARTITION FUNCTION ステートメントを使用できます。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/help/4025261)です。<br /><br />**注:**で始まる[!INCLUDE[ssSQLv14](../../includes/sssqlv14-md.md)]とデータベース[互換性レベル](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md)140 これが既定の動作と、トレース フラグ 1237 が影響を与えません。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ|
|**1260**|スケジューラ ダンプの監視を無効にします。<br /><br />**スコープ**: グローバルのみ|   
|**1448**|非同期セカンダリで変更の受信が確認されていない場合でもレプリケーション ログ リーダーが前へ移動できるようにします。 このトレース フラグが有効でも、ログ リーダーは常に同期セカンダリを待機します。 ログ リーダーは同期セカンダリの最小 ack を超えることはありません。 このトレース フラグは、可用性グループ、可用性データベース、またはログ リーダー インスタンスだけでなく、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンスにも適用されます。 再起動しなくてもすぐに有効になります。 このトレース フラグは、事前にアクティブにすることも、非同期セカンダリが失敗したときにアクティブにすることもできます。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/937041)です。<br /><br />**スコープ**: グローバルのみ|   
|**1462**|非同期の可用性グループのストリームの圧縮を無効にログインします。 この機能はネットワーク帯域幅を最適化するために非同期の可用性グループでは既定で有効にします。 詳細については、「 [Tune compression for availability group](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md)」(可用性グループの圧縮を調整する) を参照してください。<br /><br />**スコープ**: グローバルのみ| 
|**1800**|により、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]最適化で、プライマリ レプリカとセカンダリ レプリカのログ ファイルの異なるセクタ サイズのディスクが使用されて[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Always On とログ配布の環境。 このトレース フラグは、512 バイトのセクター サイズとディスク上に存在するトランザクション ログ ファイルのある SQL Server インスタンスで有効にする必要はだけです。 **いない**4 k セクターのサイズがディスクでは有効にするために必要です。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/3009974)です。<br /><br />**スコープ:**グローバルのみ|
|**2301**|高度な意思決定のサポートの最適化を有効にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/920093)です。<br /><br />**スコープ**: グローバル セッションおよびクエリ|
|**2312**|クエリ オプティマイザーの基数の推定モデルを設定することができます、[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]を通じて[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]バージョンでは、データベースの互換性レベルによって決まります。 詳細については、次を参照してください。 [Microsoft サポート記事](http://support.microsoft.com/kb/2801413)です。<br /><br />以降で[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]SP1 では、クエリ レベルでは、これを実現する追加使用ヒント 'FORCE_DEFAULT_CARDINALITY_ESTIMATION'[クエリ ヒント](../../t-sql/queries/hints-transact-sql-query.md)このトレース フラグを使用する代わりにします。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ| 
|**2335**|により[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]クエリの最適化中に、固定量のメモリがあると仮定します。 メモリに制限なく[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]クエリを実行する許可を付与します。 用に構成されたメモリ[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]データ キャッシュ、クエリの実行、およびその他のコンシューマーによって使用されます。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2413549)です。<br /><br />**注:**を実稼働環境に展開する前に、このオプションを十分にテストすることを確認してください。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ|
|**2340**|により[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]プランを生成するときに入れ子になったループ結合を最適化するために並べ替え操作 (バッチ ソート) を使用しないようにします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2009160)です。<br /><br />以降で[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]SP1 では、クエリ レベルでは、これを実現する追加使用ヒント 'DISABLE_OPTIMIZED_NESTED_LOOP'[クエリ ヒント](../../t-sql/queries/hints-transact-sql-query.md)このトレース フラグを使用する代わりにします。<br /><br />**注:**を実稼働環境に展開する前に、このオプションを十分にテストすることを確認してください。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ|
|**2371**|動的な自動更新の統計情報のしきい値を固定の自動更新の統計情報のしきい値を変更します。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2754171)です。<br /><br />**注:**で始まる[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]エンジンによってこの動作を制御し、トレース フラグ 2371 が影響を与えません。<br /><br />**スコープ**: グローバルのみ|
|**2389**|有効にするには、キー (ヒストグラム修正) の昇順の統計をクイック自動的に生成します。 トレース フラグ 2389 を設定すると、先頭の統計列が昇順としてマークされている場合は、クエリのコンパイル時に、ヒストグラムの基数を推定するために使用が調整されます。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2801413)です。<br /><br />**注:**を実稼働環境に展開する前に、このオプションを十分にテストすることを確認してください。<br /><br />**注:**以上バージョン 120 の CE にこのトレース フラグは適用されません。 トレース フラグ 4139 を代わりに使用します。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ|
|**2390**|有効にするには、昇順または不明なキー (ヒストグラム修正) の統計をクイック自動的に生成します。 トレース フラグ 2390 を設定すると、先頭の統計列が昇順または"不明"としてマークされている場合は、クエリのコンパイル時に、ヒストグラムの基数を推定するために使用が調整されます。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2801413)です。<br /><br />**注:**を実稼働環境に展開する前に、このオプションを十分にテストすることを確認してください。<br /><br />**注:**以上バージョン 120 の CE にこのトレース フラグは適用されません。 トレース フラグ 4139 を代わりに使用します。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ|
|**2453**|行のための十分な数が変更されたときに再コンパイルをトリガーする、テーブル変数を使用できます。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2952444)です。<br /><br />**注:**を実稼働環境に展開する前に、このオプションを十分にテストすることを確認してください。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ|
|**2528**|DBCC CHECKDB、DBCC CHECKFILEGROUP、および DBCC CHECKTABLE によるオブジェクトの並列検査を無効にします。 既定では、並列処理の次数はクエリ プロセッサによって自動的に決定されます。 並列処理の最大限度は並列クエリと同様に構成します。 詳細については、「 [max degree of parallelism サーバー構成オプションの構成](../../database-engine/configure-windows/configure-the-max-degree-of-parallelism-server-configuration-option.md)」を参照してください。<br /><br />**注:**並列 DBCC チェックは、通常、(既定値) を有効にします。 クエリ プロセッサが再評価し、自動的にテーブルまたは DBCC CHECKDB でチェックするテーブルのバッチごとの並列処理を調整します。<br /><br />一般的な使用シナリオには、システム管理者は、DBCC CHECKDB が完了すると、および選択を手動で短縮またはその他のユーザーのワークロードで同時実行性を高めるために、並列処理を無効にする前に、そのサーバーの負荷が増加を知っている場合です。 ただし、DBCC CHECKDB での並列チェックを無効にするようになります完了に時間がかかります。<br /><br />**注:** TABLOCK オプションを使用して DBCC CHECKDB を実行して、並列処理が無効になっている、長期間のテーブルがロックされています。<br /><br />**注:**で始まる[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]SP2 では、MAXDOP オプションは、max degree of parallelism 構成オプション、ステートメントの sp_configure の上書きを使用します。<br /><br />**スコープ**: グローバルまたはセッション|
|**2549**|一意のディスク ドライブには、各データベース ファイルと仮定して DBCC CHECKDB コマンドを実行します。 DBCC CHECKDB コマンドでは、すべてのデータベース ファイル全体で 1 つの一意のディスク ドライブを読み取るするページの内部リストを構築します。 このロジックでは、各ファイルの物理ファイル名のドライブ文字に基づく一意のディスク ドライブを決定します。<br /><br />**注:**わかっている各ファイルが一意の物理ディスクに基づいている場合は、このトレース フラグを使用しません。<br /><br />**注:**このトレース フラグのパフォーマンスの向上が、DBCC CHECKDB はどのターゲット使用量を PHYSICAL_ONLY オプションをコマンドについては、一部のユーザーではパフォーマンスの改善は、すべてが表示されない場合があります。 このトレース フラグには、ディスク I/O リソース使用率が向上しますが、中に、基になるディスク リソースのパフォーマンスは、DBCC CHECKDB コマンドの全体的なパフォーマンスを制限します。 詳細については、次を参照してください。 [Microsoft サポート記事](http://support.microsoft.com/kb/2634571)です。<br /><br />**スコープ**: グローバルのみ| 
|**2562**|1 つのデータベース内のインデックス数に関係なく"batch"では、DBCC CHECKDB コマンドを実行します。 既定では、DBCC CHECKDB コマンドは、インデックス、または「バッチ」の概念を使用して生成される「情報」の数を制限することによって tempdb リソースを最小限に抑えるしようとします。 このトレース フラグは、1 つのバッチにすべての処理を強制します。<br /><br />このトレース フラグを使用しての影響の 1 つは、tempdb に必要な領域を増やすことがあります。 Tempdb は、DBCC CHECKDB コマンドによって処理されているユーザー データベースの 5% 以上になることがあります。<br /><br />**注:**このトレース フラグのパフォーマンスの向上が、DBCC CHECKDB はどのターゲット使用量を PHYSICAL_ONLY オプションをコマンドについては、一部のユーザーではパフォーマンスの改善は、すべてが表示されない場合があります。 このトレース フラグには、ディスク I/O リソース使用率が向上しますが、中に、基になるディスク リソースのパフォーマンスは、DBCC CHECKDB コマンドの全体的なパフォーマンスを制限します。 詳細については、次を参照してください。 [Microsoft サポート記事](http://support.microsoft.com/kb/2634571)です。<br /><br />**スコープ**: グローバルのみ|
|**2566**|DATA_PURITY オプションを指定しない場合は、データ パリティ チェックなしの DBCC CHECKDB コマンドを実行します。<br /><br />**注:**列の値の整合性チェックは既定で有効になっているし、DATA_PURITY オプションは不要です。 SQL Server の以前のバージョンからアップグレードしたデータベース、列の値のチェックを無効になって既定で DBCC CHECKDB WITH DATA_PURITY で実行されているエラーのないデータベースを少なくとも 1 回までです。 エラーなく実行されると、その後、DBCC CHECKDB は既定で列の値の整合性をチェックします。 詳細については、次を参照してください。 [Microsoft サポート記事](http://support.microsoft.com/kb/945770)です。<br /><br />**スコープ**: グローバルのみ|
|**3023**|BACKUP コマンドの既定値として CHECKSUM オプションを有効にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2656988)です。<br /><br />**注:**で始まる[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]この動作の設定によって制御されます、**チェックサムの既定のバックアップ**構成オプション。 詳細については、「 [サーバー構成オプション &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md)サーバー構成オプションを構成する方法について説明します。<br /><br />**スコープ**: グローバルとセッション|
|**3042**|既定のバックアップ圧縮の事前割り当てアルゴリズムをバイパスして、最終的なサイズに到達するまで、必要な場合にのみバックアップ ファイルが拡張されるようにします。 このトレース フラグは、圧縮されたバックアップに実際に必要なサイズだけを割り当てることによって、容量を節約する必要がある場合に便利です。 このトレース フラグを使用すると、わずかなパフォーマンスの低下 (バックアップ操作の期間が長くなる可能性) が発生することがあります。 事前割り当てアルゴリズムの詳細については、次を参照してください。[バックアップの圧縮 & #40 です。SQL Server &#41;](../../relational-databases/backup-restore/backup-compression-sql-server.md).<br /><br />**スコープ**: グローバルのみ|
|**3051**|SQL Server Backup to URL が特定のエラー ログ ファイルにログ記録を有効にします。 詳細については、次を参照してください。 [SQL Server Backup to URL のベスト プラクティスとトラブルシューティング](../../relational-databases/backup-restore/sql-server-backup-to-url-best-practices-and-troubleshooting.md)です。<br /><br />**スコープ**: グローバルのみ|  
|**3205**|既定では、テープ ドライブでハードウェア圧縮がサポートされている場合、DUMP または BACKUP ステートメントではハードウェア圧縮が行われます。 このトレース フラグを使用すると、テープ デバイスのハードウェア圧縮を無効にできます。 この機能は、圧縮がサポートされていないサイトやテープ ドライブとの間でテープを交換する場合に便利です。<br /><br />**スコープ**: グローバルまたはセッション|  
|**3226**|既定では、バックアップ操作が成功するたびに、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エラー ログおよびシステム イベント ログにエントリが 1 つ追加されます。 頻度の高いログ バックアップを作成する場合は、これらの成功メッセージがすぐに蓄積され、結果の その他のメッセージを検索するどのなるほどエラー ログは、問題のあります。<br /><br />このトレース フラグを使用すると、これらのログ エントリを除外できます。 この機能は、頻度の高いログ バックアップを実行している場合やスクリプトがこれらのエントリに依存していない場合に役立ちます。<br /><br />**スコープ**: グローバルのみ|   
|**3427**|有効には、temp にデータを挿入する多くの連続するトランザクションがテーブルの場合は、問題を修正しました。[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]よりも多くの CPU を消費する[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]です。 詳細については、次を参照してください[マイクロソフト サポートの記事。](http://support.microsoft.com/help/3216543)<br /><br />**スコープ**: グローバルのみ|  
|**3608**|により、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]を自動的に開始および以外の任意のデータベースを復旧、**マスター**データベース。 かどうかのアクティビティを必要とする**tempdb**が開始されると、**モデル**が復元されると**tempdb**を作成します。 他のデータベースはアクセス時に開始および復旧されます。 スナップショット分離や READ COMMITTED スナップショットなど、一部の機能を使用できない場合があります。 使用して[システム データベースの移動](../../relational-databases/databases/move-system-databases.md)と[ユーザー データベースの移動](../../relational-databases/databases/move-user-databases.md)です。<br /><br />**注:**標準操作中に使用しないでください。<br /><br />**スコープ**: グローバルのみ|   
|**3625**|使用して一部のエラー メッセージのパラメーターをマスクして、sysadmin 固定サーバー ロールのメンバーではないユーザーに返される情報の量を制限 '\*\*\*\*\*\*' です。 これは、機密情報の公開を防ぐために役立ちます。<br /><br />**スコープ**: グローバルのみ|  
|**4136**|パラメーター スニッフィングしない限り、無効に OPTION(RECOMPILE)、WITH RECOMPILE または OPTIMIZE FOR\<値 > を使用します。 詳細については、次を参照してください。 [Microsoft サポート記事](http://support.microsoft.com/kb/980653)です。 これを行うには、データベース レベルで、PARAMETER_SNIFFING オプションを参照してください。 [ALTER DATABASE SCOPED CONFIGURATION & #40 です。TRANSACT-SQL と #41 です。](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md). これを実現するクエリ レベルで、追加、OPTIMIZE FOR UNKNOWN[クエリ ヒント](../../t-sql/queries/hints-transact-sql-query.md)です。 以降で[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]SP1 では、クエリ レベルでこれを実現する 2 番目のオプションは、使用してヒント 'PARAMETER_SNIFFING' を追加する[クエリ ヒント](../../t-sql/queries/hints-transact-sql-query.md)このトレース フラグを使用する代わりにします。<br /><br />**注:**を実稼働環境に展開する前に、このオプションを十分にテストすることを確認してください。<br /><br />**スコープ**: グローバルまたはセッション|  
|**4137**|により[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]、クエリ オプティマイザーの基数推定モデルの下の相関関係のために最低限の選択度を AND 述語フィルターを見積もるときに使用するプランを生成する[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]と以前のバージョン。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2658214)です。<br /><br />以降で[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]SP1 では、クエリ レベルでは、これを実現する追加使用ヒント 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES'[クエリ ヒント](../../t-sql/queries/hints-transact-sql-query.md)レガシ CE を使用する場合は、このトレース フラグを使用する代わりにします。<br /><br />**注:**を実稼働環境に展開する前に、このオプションを十分にテストすることを確認してください。<br /><br />**注:**以上バージョン 120 の CE にこのトレース フラグは適用されません。 トレース フラグ 9471 を代わりに使用します。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ| 
|**4138**|により[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]TOP、OPTION (FAST N) を含むクエリで行の目標の調整を使用しない、またはキーワードが存在するプランを生成します。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2667211)です。<br /><br />以降で[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]SP1 では、クエリ レベルでは、これを実現する追加使用ヒント 'DISABLE_OPTIMIZER_ROWGOAL'[クエリ ヒント](../../t-sql/queries/hints-transact-sql-query.md)このトレース フラグを使用する代わりにします。<br /><br />**注:**を実稼働環境に展開する前に、このオプションを十分にテストすることを確認してください。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ| 
|**4139**|有効にするには、クイック統計 (ヒストグラム修正) をキー列の状態に関係なく自動的に生成します。 トレース フラグ 4139 が設定されている場合 (昇順、降順、またはひな形)、先頭の統計情報列状態に関係なく、ヒストグラムの基数を推定するために使用が調整されるクエリのコンパイル時にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2952101)です。<br /><br />以降で[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]SP1 では、クエリ レベルでは、これを実現する追加使用ヒント 'ENABLE_HIST_AMENDMENT_FOR_ASC_KEYS'[クエリ ヒント](../../t-sql/queries/hints-transact-sql-query.md)このトレース フラグを使用する代わりにします。<br /><br />**注:**を実稼働環境に展開する前に、このオプションを十分にテストすることを確認してください。<br /><br />**注:**バージョン 70 の CE にこのトレース フラグは適用されません。 トレース フラグ 2389 および 2390 を代わりに使用します。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ|
|**4199**|有効にクエリ オプティマイザー (QO) が変更されてでリリースされた[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]累積更新プログラムおよびサービス パックです。<br /><br />リリースにおける前に行われた変更を QO [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 最新のデータベースの既定で有効になっている[互換性レベル](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md)トレースせずフラグ 4199 を有効になっている特定の製品のリリースでします。<br /><br />次の表は、特定のデータベース互換性レベル、およびトレース フラグ 4199 を使用する場合の動作をまとめたものです。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/974006)です。<br /><br /><table border="1" frame="void" width="550"><tr valign="middle" align="center"><td>**データベースの互換性レベル**</td><td>**TF 4199**</td><td>**QO が以前のデータベース互換性レベルを変更します。**</td><td>**現在のバージョンの QO 変更 -RTM します。**</td></tr><tr valign="middle" align="center"><td rowspan="2">**100 ~ 120**</td><td>Off</td><td>Disabled</td><td>Disabled</td></tr><tr valign="middle" align="center"><td>基準</td><td>有効</td><td>有効</td></tr><tr valign="middle" align="center"><td rowspan="2">**130**</td><td>Off</td><td>有効</td><td>Disabled</td></tr><tr valign="middle" align="center"><td>基準</td><td>有効</td><td>有効</td></tr><tr valign="middle" align="center"><td rowspan="2">**140**</td><td>Off</td><td>有効</td><td>Disabled</td></tr><tr valign="middle" align="center"><td>基準</td><td>有効</td><td>有効</td></tr></table><br /><br />これを行うには、データベース レベルで、QUERY_OPTIMIZER_HOTFIXES オプションを参照してください。 [ALTER DATABASE SCOPED CONFIGURATION & #40 です。TRANSACT-SQL と #41 です。](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />以降で[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]SP1 では、クエリ レベルでは、これを実現する追加使用ヒント 'ENABLE_QUERY_OPTIMIZER_HOTFIXES'[クエリ ヒント](../../t-sql/queries/hints-transact-sql-query.md)このトレース フラグを使用する代わりにします。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ|
|**4610**|8 倍のキャッシュ エントリを格納するハッシュ テーブルのサイズが大きくなります。 と共に使用すると、トレース フラグ 4618 を 8,192 TokenAndPermUserStore キャッシュ ストア内のエントリの数を増やします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/959823)です。<br /><br />**スコープ:**グローバルのみ|
|**4616**|アプリケーション ロールに対して、サーバー レベルのメタデータを参照可能にします。 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] では、アプリケーション ロールはサーバーレベルのプリンシパルに関連付けられていないため、所有するデータベース外のメタデータにはアクセスできません。 これは、以前のバージョンの [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]の動作から変更されています。 このグローバル フラグを設定すると、新しい制限は無効になり、アプリケーション ロールはサーバーレベルのメタデータにアクセスできるようになります。<br /><br />**スコープ**: グローバルのみ|
|**4618**|1,024 ストア TokenAndPermUserStore キャッシュ内のエントリの数を制限します。 と共に使用すると、トレース フラグ 4610 を 8,192 TokenAndPermUserStore キャッシュ ストア内のエントリの数を増やします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/959823)です。<br /><br />**スコープ:**グローバルのみ|
|**5004**|TDE 暗号化の一時停止をスキャンして暗号化スキャン ワーカーが作業を行わずに終了にします。 データベースは、ある状態 (進行中の暗号化) を暗号化するに続行されます。 再暗号化スキャンを再開するには、トレース フラグ 5004 を無効にし、ALTER DATABASE < database_name > 設定 ENCRYPTION ON を実行します。 <br /><br />**スコープ:**グローバルのみ|
|**6498**|十分なメモリがある使用可能な場合、大規模ゲートウェイにアクセスする 1 つ以上の大規模なクエリのコンパイルを有効にします。 これは SQL Server のターゲット メモリの 80 パーセントに基づいてし、メモリの 25 gb (ギガバイト) 単位の 1 つの大規模なクエリ コンパイルを使用できます。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/3024815)です。<br /><br />**注:**で始まる[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]SP2 および[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]エンジンによってこの動作を制御し、トレース フラグ 6498 が影響を与えません。<br /><br />**スコープ**: グローバルのみ|
|**6527**|CLR 統合でメモリ不足例外が最初に発生した場合のメモリ ダンプの生成を無効にします。 既定では、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] CLR でメモリ不足の例外に最初に発生するときに、小さいメモリ ダンプが生成されます。 トレース フラグの動作は次のとおりです。<br /><br />-これは、スタートアップ トレース フラグとして使用する場合は、メモリ ダンプは生成されません。 ただし、その他のトレース フラグが使用されると、メモリ ダンプが生成される場合があります。<br />-実行中のサーバーでは、このトレース フラグが有効である場合、メモリ ダンプは自動的に生成されませんその時点からにします。 ただし、CLR のメモリ不足例外のためにメモリ ダンプが既に生成されている場合は、このトレース フラグの効果はありません。<br /><br />**スコープ**: グローバルのみ|
|**6532**|内の空間データ型とクエリ操作のパフォーマンスの向上を有効に[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]と[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]です。 パフォーマンスの向上は、構成、種類のクエリ、およびオブジェクトによって異なります。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/3107399)です。<br /><br />**注:**で始まる[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]エンジンによってこの動作を制御し、トレース フラグ 6532 が影響を与えません。<br /><br />**スコープ**: グローバルとセッション|
|**6533**|内の空間データ型とクエリ操作のパフォーマンスの向上を有効に[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]と[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]です。 パフォーマンスの向上は、構成、種類のクエリ、およびオブジェクトによって異なります。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/3107399)です。<br /><br />**注:**で始まる[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]エンジンによってこの動作を制御し、トレース フラグ 6533 が影響を与えません。<br /><br />**スコープ**: グローバルとセッション| 
|**6534**|内の空間データ型とクエリ操作のパフォーマンスの向上を有効に[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]、[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]と[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]です。 パフォーマンスの向上は、構成、種類のクエリ、およびオブジェクトによって異なります。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/3107399)です。<br /><br />**スコープ**: グローバルとセッション|
|**7314**|不明な有効桁数/小数点以下桁数が OLE DB プロバイダーでの倍精度の値として扱われる番号の値を強制的に実行します。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/3051993)です。<br /><br />**スコープ**: グローバルとセッション|  
|**7412**|プロファイリング インフラストラクチャ軽量なクエリ実行の統計を有効にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/3170113)です。<br /><br />**スコープ**: グローバルのみ|
|**7471**|複数の実行を可能[UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md)の 1 つのテーブルに同時に異なる統計。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/3156157)です。<br /><br />**スコープ**: グローバルのみ|
|**7745**|データ、データベースのシャット ダウン時にディスクにフラッシュするには、クエリのストアを強制的に実行します。<br /><br />**注:**このトレースを使用してシャット ダウンが発生した場合に失われたようにディスクにフラッシュされていないクエリ ストアのデータが発生する可能性があります。 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]を即座にシャット ダウンを強制的にシャット ダウン、SHUTDOWN WITH NOWAIT のコマンドは、このトレース フラグではなく使用できます。<br /><br />**スコープ**: グローバルのみ|
|**7752**|クエリのストアの非同期読み込みを有効にします。<br /><br />**注:**場合は、このトレース フラグを使用して[!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)]クエリ ストアの同期の負荷 (既定の動作) に関連する QDS_LOADDB 待機の数が多いが発生しています。<br /><br />**スコープ**: グローバルのみ|
|**7806**|[!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]で専用管理者接続 (DAC) を有効にします。 既定では、[!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] で予約されている DAC リソースはありません。 詳細については、「 [データベース管理者用の診断接続](../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md)」を参照してください。<br /><br />**スコープ**: グローバルのみ|  
|**8011**|リソース モニターのリング バッファーを無効にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/920093)です。<br /><br />**スコープ**: グローバルとセッション|
|**8012**|スケジューラのリング バッファーを無効にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/920093)です。<br /><br />**スコープ**: グローバルのみ|
|**8015**|自動検出と NUMA の設定を無効にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2813214)です。<br /><br />**スコープ**: グローバルのみ|
|**8018**|例外のリング バッファーを無効にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/920093)です。<br /><br />**スコープ**: グローバルのみ|
|**8019**|例外のリング バッファーにスタック コレクションを無効にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/920093)です。<br /><br />**スコープ**: グローバルのみ|
|**8020**|ワーキング セットの監視を無効にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/920093)です。<br /><br />**スコープ**: グローバルのみ|
|**8032**|キャッシュ制限パラメーターを [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] RTM の設定に戻します。これにより、一般に、より大きいキャッシュに対応できるようになります。 この設定は、頻繁に再利用されるキャッシュ エントリがキャッシュに収まらない場合や、サーバー構成オプション [[アドホック ワークロードの最適化]](../../database-engine/configure-windows/optimize-for-ad-hoc-workloads-server-configuration-option.md) でプラン キャッシュの問題を解決できない場合に使用します。<br /><br />**警告:**トレース フラグ 8032 が大きなキャッシュはため、バッファー プールなどの他のメモリ コンシューマーのメモリが少ないを利用できる場合にパフォーマンスが低下可能性があります。<br /><br />**スコープ**: グローバルのみ|   
|**8048**|変換 NUMA では、パーティション分割されている CPU にメモリ オブジェクトがパーティション分割します。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2809338)です。<br /><br />**注:**で始まる[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]SP2 および[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]エンジンによってこの動作を制御し、トレース フラグ 8048 が影響を与えません。<br /><br />**スコープ**: グローバルのみ|  
|**8079**|により、 [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 ハードウェア レイアウトを調査し、システムの NUMA ノードあたり 8 個以上の Cpu をレポートのソフト NUMA を自動的に構成します。 自動ソフト NUMA 動作は、ハイパー (HT/論理プロセッサ) に注意してください。 パーティション分割とスケールのスケーリングのリスナーの数を増やすことで、バック グラウンド処理とネットワークの他のノードと暗号化機能の作成。<br /><br />**注:**にこのトレース フラグが適用されます[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]SP2。 以降で[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]エンジンによってこの動作を制御し、トレース フラグ 8048 が影響を与えません。<br /><br />**スコープ**: グローバルのみ| 
|**8207**|トランザクション レプリケーションに対して単一の更新を有効にします。 サブスクライバーへの更新は、削除と挿入のペアとしてレプリケートされることができます。 UPDATE トリガーを起動するなどのビジネス ルールを満たさない可能性があります。 トレース フラグ 8207 行 (単一の更新) を 1 つだけに影響する一意の列への更新は、更新プログラムとは、削除、または INSERT のペアとしてではなくレプリケートされます。 更新プログラムに影響を与える、列の unique 制約を持っている場合、または更新プログラムが複数の行に影響する場合は、更新は引き続き、DELETE、または INSERT のペアとしてレプリケートされます。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/302341)です。<br /><br />**スコープ**: グローバルのみ|
|**8721**|統計の自動更新を実行するときに、エラー ログをレポートします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/195565)です。<br /><br />**スコープ**: グローバルのみ|
|**8744**|入れ子になったループ演算子のプリフェッチを無効にします。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/920093)です。<br /><br />**注:**このトレース フラグの不適切な使用が発生する可能性があります追加の物理読み取りの場合に[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Nested Loops 操作を含むプランを実行します。<br /><br />**スコープ**: グローバルとセッション|
|**9024**|グローバルのログ プール メモリ オブジェクトは、NUMA ノードのメモリのパーティション分割されたオブジェクトに変換します。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/2809338)です。<br /><br />**注:**で始まる[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]SP3 と[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]9024 エンジンとトレース フラグでこの動作を制御 SP1 も何も起こりません。<br /><br />**スコープ**: グローバルのみ|
|**9347**|Sort 操作のバッチ モードを無効にします。 [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]多くの分析クエリのパフォーマンスが向上する新しいバッチ モード ソート演算子について説明します。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/3172787)です。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ|
|**9349**|Top N sort 操作のバッチ モードを無効にします。 [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]多くの分析クエリのパフォーマンスが向上する新しいバッチ モード上位 sort 演算子について説明します。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ|
|**9389**|バッチ モード演算子の動的なメモリ許可を有効にします。 クエリが必要なすべてのメモリを受信しなかった場合に、tempdb、追加の I/O が発生し、クエリのパフォーマンスに影響する可能性のあるデータが書き込まれます。 動的メモリ許可のトレース フラグを有効にすると、バッチ モード演算子では追加のメモリを要求し、追加のメモリが使用可能な場合に tempdb に書き込むときに回避する必要可能性があります。<br /><br />**スコープ**: グローバルまたはセッション| 
|**9453**|無効に、バッチ モード実行します。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/help/4016902)です。<br /><br />**注:**を実稼働環境に展開する前に、このオプションを十分にテストすることを確認してください。<br /><br />**スコープ:**グローバル セッションおよびクエリ|
|**9471**|により[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]、クエリ オプティマイザーの基数推定モデルの下で、1 つのテーブルのフィルターの選択度の最小値を使用してプランを生成する[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]を通じて[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]バージョン。<br /><br />以降で[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]SP1 では、クエリ レベルでは、これを実現する追加使用ヒント 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES'[クエリ ヒント](../../t-sql/queries/hints-transact-sql-query.md)このトレース フラグを使用する代わりにします。<br /><br />**注:**を実稼働環境に展開する前に、このオプションを十分にテストすることを確認してください。<br /><br />**注:**バージョン 70 の CE にこのトレース フラグは適用されません。 トレース フラグ 4137 を代わりに使用します。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ| 
|**9476**|により[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]既定ベース コンテインメント前提のクエリ オプティマイザーの基数推定モデルの下ではなく、簡単なコンテインメント前提を使用してプランを生成する[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]を通じて[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]バージョン。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/3189675)です。<br /><br />以降で[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]SP1 では、クエリ レベルでは、これを実現する追加使用ヒント 'ASSUME_JOIN_PREDICATE_DEPENDS_ON_FILTERS'[クエリ ヒント](../../t-sql/queries/hints-transact-sql-query.md)このトレース フラグを使用する代わりにします。<br /><br />**注:**を実稼働環境に展開する前に、このオプションを十分にテストすることを確認してください。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ| 
|**9481**|クエリ オプティマイザーの基数の推定モデルを設定することができます、[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]とデータベースの互換性レベルに関係なく、以前のバージョン。 詳細については、次を参照してください。 [Microsoft サポート記事](http://support.microsoft.com/kb/2801413)です。 これを行うには、データベース レベルで、LEGACY_CARDINALITY_ESTIMATION オプションを参照してください。 [ALTER DATABASE SCOPED CONFIGURATION & #40 です。TRANSACT-SQL と #41 です。](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />以降で[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]SP1 では、クエリ レベルでは、これを実現する追加使用ヒント 'FORCE_LEGACY_CARDINALITY_ESTIMATION'[クエリ ヒント](../../t-sql/queries/hints-transact-sql-query.md)このトレース フラグを使用する代わりにします。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ|  
|**9485**|DBCC SHOW_STATISTICS に対する SELECT 権限を無効にします。<br /><br />**スコープ**: グローバルのみ|
|**9488**|テーブル値関数の固定の推定を既定値は 1 に設定 (下にある、クエリ オプティマイザーの基数推定モデルの既定値に対応する[!INCLUDE[ssKilimanjaro](../../includes/ssKilimanjaro-md.md)]と以前のバージョン) のクエリ オプティマイザーの基数推定モデルを使用する場合、[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]を通じて[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]バージョン。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ|
|**9495**|INSERT の挿入中に並列処理を無効にしています.SELECT 操作とは、ユーザーと一時テーブルの両方に適用されます。 詳細については、次を参照してください[マイクロソフト サポートの記事。](http://support.microsoft.com/kb/3180087)<br /><br />**スコープ**: グローバルまたはセッション| 
|**9567**|Always On 可用性グループの自動シード処理中にデータ ストリームの圧縮を有効にします。 圧縮は、自動シード処理中に転送時間を大幅に短縮することができ、プロセッサの負荷が増加します。 詳細については、次を参照してください。 [Always On 可用性グループを自動的に初期化](../../database-engine/availability-groups/windows/automatically-initialize-always-on-availability-group.md)と[可用性グループの圧縮をチューニング](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md)です。<br /><br />**スコープ**: グローバルまたはセッション|
|**9591**|無効には、ブロック圧縮を Always On 可用性グループにログインします。 ログ ブロック圧縮の同期および非同期の両方のレプリカと使用される既定の動作は、[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]と[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]です。 [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]圧縮は、非同期レプリカでのみ使用します。 <br /><br />**スコープ**: グローバルまたはセッション|
|**9592**|同期の可用性グループのストリームの圧縮を有効にログインします。 圧縮遅延の追加を行うために、同期の可用性グループでは既定でこの機能が無効になります。 詳細については、「 [Tune compression for availability group](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md)」(可用性グループの圧縮を調整する) を参照してください。<br /><br />**スコープ**: グローバルまたはセッション| 
|**9939**|内の DML 操作のターゲットされない限り有効並列プランとメモリ最適化テーブルおよびメモリ最適化テーブルまたはテーブル変数を参照する DML 操作でテーブル変数の並列スキャン[!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]です。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/4013877)です。<br /><br />**注:**トレース フラグ 4199 が明示的に有効になっている場合、トレース フラグ 9939 は必要ありません。<br /><br />**スコープ**: グローバルまたはセッションまたはクエリ|   
|**10204**|無効にマージ/列ストア インデックスの再構成中に取り消してです。 [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]列ストア インデックスを再構成すると、ときより大きな圧縮行グループに、同様に削除された行の数が多い行グループを再圧縮、小規模の圧縮行グループを自動的にマージする新しい機能があります。<br /><br />**注:**トレース フラグ 10204 は、列ストア インデックスはメモリ最適化テーブル上に作成するには適用されません。<br /><br />**スコープ**: グローバルまたはセッション|   
|**10316**|追加のインデックスの作成を有効に[内部メモリ最適化のステージング テンポラル テーブル](../../relational-databases/tables/system-versioned-temporal-tables-with-memory-optimized-tables.md)、いずれかの既定値の横にあります。 既定のインデックスで対応されていない列を含んでいる特定のクエリ パターンがある場合は、その他の値を追加することを検討できます。<br /><br />**注:**システム バージョン管理されたテンポラル テーブルは、メモリ最適化テーブルは、高いトランザクション スループットを提供するように設計されています。 追加のインデックスの作成と更新するか、現在のテーブルの行を削除 DML 操作のオーバーヘッドが生じる可能性があることに注意してください。 追加のインデックスでは、テンポラル クエリのパフォーマンスとオーバーヘッドを増やさずに DML の間でバランスが適切に目指す必要があります。<br /><br />**スコープ**: グローバルまたはセッション|
|**11023**|サンプル レートがの一部として明示的に指定されていないすべての後続の統計の更新の最後の永続化のサンプル速度の使用を無効になります、 [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md)ステートメントです。 詳細については、これを参照して[Microsoft サポート記事](http://support.microsoft.com/kb/4039284)です。<br /><br />**スコープ**: グローバル| 
  
## <a name="remarks"></a>解説  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]、トレース フラグの 3 種類があります。 クエリ、セッションとグローバルです。 クエリ トレース フラグは、特定のクエリのコンテキストに対してアクティブにします。 セッション トレース フラグは、接続のアクティブなし、その接続にのみ表示されます。 グローバル トレース フラグは、サーバー レベルで設定され、サーバー上のすべての接続に対して表示可能です。 フラグには、グローバルとしてのみ有効化できるフラグと、グローバルまたはセッション スコープのどちらかで有効化できるフラグがあります。  
  
 この場合に当てはまる規則を以下に示します。  
-   グローバル トレース フラグは、グローバルに有効化する必要があります。 グローバルに有効化しない場合、そのトレース フラグは機能しません。 使用して、起動時に、グローバル トレース フラグを有効にすることをお勧め、 **-t**コマンド ライン オプションです。 これにより、サーバーの再起動後、トレース フラグがアクティブなままです。  
-   トレース フラグがグローバル、セッションまたはクエリ スコープのいずれかの場合、適切なスコープで有効にすることができます。 セッション レベルで有効化したトレース フラグは、別のセッションには影響せず、セッションを開いた SPID がログアウトすると無効になります。  
  
トレース フラグを有効または無効にするには、次のいずれかの方法を使用します。
-   DBCC TRACEON と DBCC TRACEOFF コマンドを使用する。  
     たとえば、2528 トレース フラグをグローバルに有効にするを使用して DBCC TRACEON 引数-1 と共に:`DBCC TRACEON (2528, -1)`です。 DBCC TRACEON を含むグローバル トレース フラグを有効化の効果は、サーバーの再起動時に失われます。 グローバル トレース フラグをオフにするには、DBCC TRACEOFF に引数 -1 を指定します。  
-   使用して、 **-t**スタートアップ オプションの起動中に、トレース フラグに設定することを指定します。  
     **-T**スタートアップ オプションはトレース フラグをグローバルに有効にします。 スタートアップ オプションでは、セッションレベルのトレース フラグは有効化できません。 これにより、サーバーの再起動後、トレース フラグがアクティブなままです。 スタートアップ オプションの詳細については、「 [データベース エンジン サービスのスタートアップ オプション](../../database-engine/configure-windows/database-engine-service-startup-options.md)」をご覧ください。
-   Querytraceon ですを使用して、クエリ レベルで[クエリ ヒント](http://support.microsoft.com/kb/2801413)です。
  
使用して、`DBCC TRACESTATUS`コマンドを現在アクティブなトレース フラグを確認します。
  
## <a name="examples"></a>使用例  
 次の例は、すべてのセッションでのトレース フラグ 3205 を DBCC TRACEON を使用して、サーバー レベルで設定します。  
  
```t-sql  
DBCC TRACEON (3205,-1);  
```

すべてプランに影響する修正プログラム、トレース フラグ 4199 および特定のクエリに対して 4137 によって制御を有効にすることができます。
  
```t-sql
SELECT x FROM correlated WHERE f1 = 0 AND f2 = 1 OPTION (QUERYTRACEON 4199, QUERYTRACEON 4137)
``` 
 
## <a name="see-also"></a>参照  
[データ型 &#40;Transact-SQL&#41;](../../t-sql/data-types/data-types-transact-sql.md)  
[DBCC INPUTBUFFER &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-inputbuffer-transact-sql.md)  
[DBCC OUTPUTBUFFER & #40 です。TRANSACT-SQL と #41 です。](../../t-sql/database-console-commands/dbcc-outputbuffer-transact-sql.md)  
[DBCC TRACEOFF &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md)  
[DBCC TRACEON &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md)  
[DBCC TRACESTATUS & #40 です。TRANSACT-SQL と #41 です。](../../t-sql/database-console-commands/dbcc-tracestatus-transact-sql.md)  
[EXECUTE &#40;Transact-SQL&#41;](../../t-sql/language-elements/execute-transact-sql.md)  
[SELECT &#40;Transact-SQL&#41;](../../t-sql/queries/select-transact-sql.md)  
[[SET NOCOUNT] & #40 です。TRANSACT-SQL と #41 です。](../../t-sql/statements/set-nocount-transact-sql.md)  
[ALTER DATABASE SET のオプション &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md)  
[ALTER データベース スコープ ベースの構成 & #40 です。TRANSACT-SQL と #41 です。](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md)  
[クエリ ヒント (TRANSACT-SQL)](../../t-sql/queries/hints-transact-sql-query.md)


