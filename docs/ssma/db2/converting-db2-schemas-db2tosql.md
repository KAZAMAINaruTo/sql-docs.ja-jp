---
title: "変換する DB2 スキーマ (DB2ToSQL) |Microsoft ドキュメント"
ms.prod: sql-non-specified
ms.prod_service: sql-tools
ms.service: 
ms.component: ssma-db2
ms.custom: 
ms.date: 01/19/2017
ms.reviewer: 
ms.suite: sql
ms.technology: sql-ssma
ms.tgt_pltfrm: 
ms.topic: article
applies_to:
- Azure SQL Database
- SQL Server
ms.assetid: 7947efc3-ca86-4ec5-87ce-7603059c75a0
caps.latest.revision: "9"
author: Shamikg
ms.author: Shamikg
manager: jhubbard
ms.workload: Inactive
ms.openlocfilehash: e3684380a10f371952b2461907bb36a7b13f1107
ms.sourcegitcommit: cc71f1027884462c359effb898390c8d97eaa414
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/21/2017
---
# <a name="converting-db2-schemas-db2tosql"></a>DB2 スキーマ (DB2ToSQL) の変換
接続されている DB2 に接続すると後、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion_md.md)]、DB2 データベース オブジェクトに変換するにはプロジェクトの設定とデータのマッピング オプションと[!INCLUDE[ssNoVersion](../../includes/ssnoversion_md.md)]データベース オブジェクトです。  
  
## <a name="the-conversion-process"></a>変換プロセス  
データベース オブジェクトを変換する DB2 からオブジェクト定義を受け取り、同様に変換[!INCLUDE[ssNoVersion](../../includes/ssnoversion_md.md)]オブジェクト、および SSMA メタデータにこの情報を読み込みます。 インスタンスに、情報は読み込まれません[!INCLUDE[ssNoVersion](../../includes/ssnoversion_md.md)]です。 使用して、オブジェクトとそのプロパティを表示することができますし、[!INCLUDE[ssNoVersion](../../includes/ssnoversion_md.md)]メタデータ エクスプ ローラー。  
  
変換中には、SSMA は、出力ウィンドウに出力メッセージとエラー一覧 ウィンドウにエラー メッセージを出力します。 出力とエラー情報を使用して、DB2 データベースまたは必要な変換の結果を得るため、変換プロセスを変更するかどうかを確認します。  
  
## <a name="setting-conversion-options"></a>変換オプションの設定  
オブジェクトを変換する前に、プロジェクトの変換オプションを確認、**プロジェクト設定** ダイアログ ボックス。 このダイアログ ボックスを使用すると、SSMA で、関数およびグローバル変数がどのように変換されるかを設定できます。 詳細については、次を参照してください。[プロジェクトの設定 &#40;です。変換&#41;&#40; DB2ToSQL &#41;](../../ssma/db2/project-settings-conversion-db2tosql.md).  
  
## <a name="conversion-results"></a>変換結果  
次の表は、変換されますが、DB2 のオブジェクトし、結果として得られる[!INCLUDE[ssNoVersion](../../includes/ssnoversion_md.md)]オブジェクト。  
  
|DB2 オブジェクト|SQL Server オブジェクトの結果として得られる|  
|-----------|----------------------------|  
|データ型|**SSMA は、以下に、次を除くすべての型をマップします。**<br /><br />CLOB: この種類の作業の一部のネイティブ関数はありません (例: CLOB_EMPTY()) のサポート<br /><br />BLOB: この種類の作業の一部のネイティブ関数はありません (例: BLOB_EMPTY()) のサポート<br /><br />DBLOB: この種類の作業の一部のネイティブ関数はありません (例: DBLOB_EMPTY()) のサポート|  
|ユーザー定義型|**SSMA は、次をマップ ユーザー定義します。**<br /><br />別個の型<br /><br />構造化型<br /><br />SQL PL データ型: 注: 脆弱なカーソルの種類はサポートされていません。|  
|特別なレジスタ|**SSMA のみ以下に示すレジスタにマップします。**<br /><br />現在のタイムスタンプ<br /><br />現在の日付<br /><br />現在の時刻<br /><br />現在のタイム ゾーン<br /><br />現在のユーザー<br /><br />SESSION_USER とユーザー<br /><br />SYSTEM_USER<br /><br />現在 CLIENT_APPLNAME<br /><br />現在 CLIENT_WRKSTNNAME<br /><br />現在のロックのタイムアウト<br /><br />現在のスキーマ<br /><br />現在のサーバー<br /><br />現在の分離<br /><br />SQL server のセマンティクスには、他の特別な登録はマップされていません。|  
|CREATE TABLE|**SSMA は、次の例外が CREATE TABLE を割り当てます。**<br /><br />多次元のクラスタ リング (MDC) テーブル<br /><br />範囲-クラスター化テーブル (RCT)<br /><br />パーティション テーブル<br /><br />デタッチされたテーブル<br /><br />データのキャプチャ句<br /><br />非表示に IMPLICITLY オプション<br /><br />揮発性のオプション|  
|CREATE VIEW|SSMA は、' WITH ローカル CHECK OPTION' をビューの作成をマップしますが、その他のオプションは、SQL server のセマンティクスにマップされていません|  
|CREATE INDEX|**SSMA は、次の例外がインデックスの作成を割り当てます。**<br /><br />XML インデックス<br /><br />オーバー ラップせず BUSINESS_TIME オプション<br /><br />パーティション分割された句<br /><br />オプションの指定のみ<br /><br />オプションの拡張を使用します。<br /><br />MINPCTUSED オプション<br /><br />ページ分割オプション|  
|トリガー|**SSMA は、次のトリガーのセマンティクスを割り当てます。**<br /><br />AFTER/各の行のトリガーを<br /><br />各ステートメントがトリガー/FOR 後<br /><br />前に/FOR EACH ROW との代わりに各の行のトリガーの場合は/|  
|シーケンス|マップされます。|  
|SELECT ステートメント|**SSMA マップは、次の例外を選択します。**<br /><br />部分的にマップされると、– データの変更テーブル参照句が最終的なテーブルはサポートされていません<br /><br />テーブル参照の句-部分的にマップされている、専用のテーブルの参照、外部テーブル参照、analyze_table 式が、コレクション派生テーブル、xmltable 式は、SQL server のセマンティクスにマップされていません<br /><br />期間仕様句: マップされていません。<br /><br />続行ハンドラー句: マップされていません。<br /><br />型指定された関連付け句: マップされていません。<br /><br />同時実行のアクセスの解像度句: マップされていません。|  
|VALUES ステートメント|マップされます。|  
|INSERT ステートメント|マップされます。|  
|UPDATE ステートメント|S**SMA マップの更新を次の例外。**<br /><br />SQL server のセマンティクスにテーブル参照句 – のみによってテーブル参照がマップされていません<br /><br />期間の句-がマップされていません。|  
|MERGE ステートメント|**SSMA は、次の例外がマージをマップします。**<br /><br />Vs 各句の複数回の出現の 1 - SQL server のセマンティクスのそれぞれの句の出現箇所を制限するマップ<br /><br />信号の句-SQL Server のセマンティクスにマップされていません。<br /><br />混在モードの更新と句の削除 – SQL Server のセマンティクスにもマップされません。<br /><br />SQL Server のセマンティクスにマップされない期間句。|  
|DELETE ステートメント|**SSMA マップは、次の例外を削除します。**<br /><br />SQL server のセマンティクスにテーブル参照句 – のみによってテーブル参照がマップされていません<br /><br />SQL Server のセマンティクスにマップされない期間句。|  
|分離レベルとロックの種類|マップされます。|  
|プロシージャ (SQL)|マップされます。|  
|プロシージャ (外部)|手動で更新が必要です。|  
|(ソース) の手順|SQL Server のセマンティクスにマップされていません。|  
|代入ステートメント|マップされます。|  
|プロシージャの CALL ステートメント|マップされます。|  
|CASE ステートメント|マップされます。|  
|FOR ステートメント|マップされます。|  
|GOTO ステートメント|マップされます。|  
|IF ステートメント|マップされます。|  
|ステートメントを反復処理します。|マップされます。|  
|ステートメントのままにしてください。|マップされます。|  
|LOOP ステートメント|マップされます。|  
|ステートメントを繰り返す|マップされます。|  
|ステートメントを送り返すため|条件を指定することはできません。 メッセージは省略可能にすることはできます。|  
|RETURN ステートメント|マップされます。|  
|信号ステートメント|条件を指定することはできません。 メッセージは省略可能にすることはできます。|  
|WHILE ステートメント|マップされます。|  
|GET 診断ステートメント|**SSMA は、次の例外診断の取得を割り当てます。**<br /><br />ROW_COUNT – がマップされます。<br /><br />DB2_RETURN_STATUS – がマップされます。<br /><br />テキスト – がマップされます。<br /><br />SQL Server のセマンティクスに DB2_SQL_NESTING_LEVEL - がマップされていません。<br /><br />SQL Server のセマンティクスに DB2_TOKEN_STRING - がマップされていません。|  
|カーソル|**SSMA は、次の例外がカーソルをマップします。**<br /><br />ALLOCATE CURSOR ステートメントでは、SQL Server のセマンティクスにはマップされていません。<br /><br />SQL Server のセマンティクスに関連付けるロケーター ステートメントにもマップされません。<br /><br />DECLARE CURSOR ステートメント、Returnability 句は SQL server のセマンティクスにマップされていません<br /><br />FETCH ステートメント – 一部のマッピング。 ターゲットとして変数がのみサポートされています。 SQL server のセマンティクスに SQLDA 記述子がマップされていません|  
|変数:|マップされます。|  
|例外、ハンドラー、および条件|**SSMA は、次の例外「例外の処理」を割り当てます。**<br /><br />終了ハンドラー – マップされます。<br /><br />ハンドラーを元に戻す – マップされます。<br /><br />ハンドラー – を続行することはマップされません。<br /><br />条件のことにマップされない SQL server のセマンティクスです。|  
|動的 SQL|マップされていません。|  
|エイリアス|マップされます。|  
|ニックネーム|一部のマッピング。 手動の処理が基になるオブジェクトに対して必要です|  
|シノニム|マップされます。|  
|DB2 で標準的な関数|SSMA は、同等の関数は、SQL Server で使用できるときに、DB2 の標準的な関数を割り当てます。|  
|承認|マップされていません。|  
|述語|マップされます。|  
|SELECT INTO ステートメント|マップされていません。|  
|値 INTO ステートメント|マップされていません。|  
|トランザクションの制御|マップされていません。|  
  
## <a name="converting-db2-database-objects"></a>DB2 データベース オブジェクトを変換します。  
DB2 データベース オブジェクトに変換するには、最初に、変換するオブジェクトを選択し、SSMA が変換を実行します。 変換中に出力メッセージを表示する、**ビュー**メニューの **出力**です。  
  
**DB2 オブジェクトを SQL Server の構文に変換するには**  
  
1.  DB2 メタデータ エクスプ ローラーで、DB2 サーバーを展開し、展開**スキーマ**です。  
  
2.  変換するオブジェクトを選択します。  
  
    -   すべてのスキーマを変換するには、チェック ボックスを横に選択**スキーマ**です。  
  
    -   変換するか、データベースを省略するには、スキーマ名の横にあるチェック ボックスを選択します。  
  
    -   変換またはオブジェクトのカテゴリの省略は、スキーマを展開し、選択するか、カテゴリの横にあるチェック ボックスをオフにします。  
  
    -   変換または個々 のオブジェクトを省略、カテゴリ フォルダーを展開し、選択するか、オブジェクトの横にあるチェック ボックスをオフにします。  
  
3.  選択したすべてのオブジェクトを変換するを右クリックして**スキーマ**選択**スキーマの変換**です。  
  
    オブジェクトまたはその親フォルダーを右クリックしを選択して、個々 のオブジェクトまたはオブジェクトのカテゴリを変換することができますも**変換スキーマ**です。  
  
## <a name="viewing-conversion-problems"></a>変換の問題を表示します。  
一部の DB2 オブジェクトを変換できません可能性があります。 集計変換レポートを表示して、変換の成功率を指定できます。  
  
**概要レポートを表示するには**  
  
1.  DB2 メタデータ エクスプ ローラーで、次のように選択します。**スキーマ**です。  
  
2.  右側のペインで、**レポート**タブです。  
  
    このレポートには、評価または変換されているすべてのデータベース オブジェクトの評価の概要レポートが表示されます。 個々 のオブジェクトの概要レポートを表示することもできます。  
  
    -   個々 のスキーマのレポートを表示するには、DB2 メタデータ エクスプ ローラーでスキーマを選択します。  
  
    -   個々 のオブジェクトのレポートを表示するには、DB2 メタデータ エクスプ ローラーで、オブジェクトを選択します。 変換の問題のあるオブジェクトでは、赤いエラー アイコンがあります。  
  
オブジェクトの変換に失敗した場合に、変換エラーが発生した構文を表示することができます。  
  
**個々 の変換の問題を表示するには**  
  
1.  DB2 メタデータ エクスプ ローラーで、**スキーマ**です。  
  
2.  赤いエラー アイコンが表示されるスキーマを展開します。  
  
3.  スキーマの下に赤いエラー アイコンを持つフォルダーを展開します。  
  
4.  赤いエラー アイコンがあるオブジェクトを選択します。  
  
5.  右側のウィンドウでをクリックして、**レポート**タブです。  
  
6.  上部にある、**レポート**タブは、ドロップダウン リスト。 一覧に表示される場合**統計**、選択を変更するに**ソース**です。  
  
    SSMA は、ソース コードとコードのすぐ上のいくつかのボタンに表示されます。  
  
7.  クリックして、**次の問題**ボタンをクリックします。 これは、右側に、矢印の付いた赤いエラー アイコンです。  
  
    SSMA は、現在のオブジェクト内で見つかった最初の問題のあるソース コードを強調表示されます。  
  
変換できなかった項目ごとのオブジェクトで実行するかを決定する必要があります。  
  
-   プロシージャのソース コードを変更することができます、 **SQL**タブです。  
  
-   削除または問題のあるコードを変更する DB2 データベース内のオブジェクトを変更することができます。 SSMA に、更新されたコードを読み込むするには、メタデータを更新する必要があります。 詳細については、次を参照してください。 [DB2 データベース &#40;DB2ToSQL&#41; への接続](../../ssma/db2/connecting-to-db2-database-db2tosql.md)です。  
  
-   オブジェクトは、移行から除外できます。 [!INCLUDE[ssNoVersion](../../includes/ssnoversion_md.md)]メタデータ エクスプ ローラーと DB2 メタデータ エクスプ ローラーにオブジェクトを読み込む前に、項目の横にあるチェック ボックスをオフに[!INCLUDE[ssNoVersion](../../includes/ssnoversion_md.md)]と DB2 からデータを移行します。  
  
## <a name="next-step"></a>次の手順  
移行プロセスの次の手順が、[変換後のオブジェクトを SQL Server に読み込む](http://msdn.microsoft.com/en-us/f4ea1ced-9f9f-4a9d-88ab-81dbab64adc3)します。  
  
## <a name="see-also"></a>参照  
[SQL Server &#40;DB2ToSQL&#41; への DB2 データの移行](../../ssma/db2/migrating-db2-data-into-sql-server-db2tosql.md)  
  
