---
title: 制御フローのデバッグ | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.suite: ''
ms.technology:
- integration-services
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- progress reporting [Integration Services]
- breakpoints [Integration Services]
- debugging [Integration Services], control flow
- control flow [Integration Services], debugging
- color-coded progress reporting [Integration Services]
- Set Breakpoints dialog box
ms.assetid: 54a458cc-9f4f-4b48-8cf2-db2e0fa7756c
caps.latest.revision: 54
author: douglaslMS
ms.author: douglasl
manager: jhubbard
ms.openlocfilehash: 8b8de78b135245c36d11f4dfb96a993fd0bbc4dd
ms.sourcegitcommit: 5dd5cad0c1bbd308471d6c885f516948ad67dfcf
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/19/2018
ms.locfileid: "36076000"
---
# <a name="debugging-control-flow"></a>制御フローのデバッグ
  [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)] および[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)]機能には内の制御フローのトラブルシューティングに使用できるツールが含まれて、[!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)]パッケージです。  
  
-   [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] コンテナーやタスクでブレークポイントをサポートします。  
  
-   [!INCLUDE[ssIS](../../../includes/ssis-md.md)] デザイナーでは、実行時の進行状況レポートが用意されています。  
  
-   [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)] では、デバッグ ウィンドウが用意されています。  
  
## <a name="breakpoints"></a>ブレークポイント  
 [!INCLUDE[ssIS](../../../includes/ssis-md.md)] デザイナーは、提供、**ブレークポイントの設定**ダイアログ ボックスで、ブレークの条件を有効にしてブレークポイントを設定することができ、ブレークポイントは、パッケージの実行前に発生する可能性が回数を指定することが中断されています。 ブレークポイントは、パッケージ レベル、または個別のコンポーネントのレベルで有効にできます。 タスクまたはコンテナー レベルでブレークの条件を有効にすると、 **[制御フロー]** タブのデザイン画面上にあるタスクまたはコンテナーの隣に、ブレークポイントのアイコンが表示されます。パッケージ レベルでブレークの条件を有効にすると、 **[制御フロー]** タブのラベル上にブレークポイントのアイコンが表示されます。  
  
 ブレークポイントにヒットすると、ブレークポイントのアイコンが変化し、ブレークポイントの発生元を識別できます。 ブレークポイントは、パッケージの実行時に追加、削除、および変更できます。  
  
 [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] ではブレークの条件が 10 件用意されており、すべてのタスクとコンテナーで有効にできます。 **[ブレークポイントの設定]** ダイアログ ボックスでは、次の条件に基づいてブレークポイントを有効にできます。  
  
|ブレークの条件|説明|  
|---------------------|-----------------|  
|タスクまたはコンテナーが受信すると、`OnPreExecute`イベント。|タスクが実行される直前に呼び出されます。 このイベントは、タスクまたはコンテナーが実行される直前に、タスクまたはコンテナーから発生します。|  
|タスクまたはコンテナーが受信すると、`OnPostExecute`イベント。|タスクの実行ロジックが完了した直後に呼び出されます。 このイベントは、タスクまたはコンテナーが実行された直後に、タスクまたはコンテナーから発生します。|  
|タスクまたはコンテナーが受信すると、`OnError`イベント。|エラーが発生すると、タスクまたはコンテナーによって呼び出されます。|  
|タスクまたはコンテナーが受信すると、`OnWarning`イベント。|タスクでエラーは発生していないが、警告が確認された状態にあるときに、呼び出されます。|  
|タスクまたはコンテナーが受信すると、`OnInformation`イベント。|タスクから情報が提供される必要があるときに呼び出されます。|  
|タスクまたはコンテナーが受信すると、`OnTaskFailed`イベント。|タスク ホストが失敗したとき、タスク ホストによって呼び出されます。|  
|タスクまたはコンテナーが受信すると、`OnProgress`イベント。|タスクの実行の進行状況を更新するために呼び出されます。|  
|タスクまたはコンテナーが受信すると、`OnQueryCancel`イベント。|タスク処理の実行をキャンセルできる場合、任意のタイミングで呼び出されます。|  
|タスクまたはコンテナーが受信すると、`OnVariableValueChanged`イベント。|変数の値が変更されたとき、 [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] ランタイムによって呼び出されます。 変数の RaiseChangeEvent に設定する必要があります`true`をこのイベントを発生させます。<br /><br /> **\*\* 警告 \*\*** このブレークポイントに関連付けられている変数は、 **コンテナー** スコープで定義する必要があります。 この変数がパッケージ スコープで定義されると、ブレークポイントにヒットしません。|  
|タスクまたはコンテナーが受信すると、`OnCustomEvent`イベント。|タスクによって定義されたカスタム イベントを起動するため、タスクによって呼び出されます。|  
  
 一部のタスクとコンテナーには、すべてのタスクとコンテナーで使用できるブレークの条件以外に、ブレークポイントを設定するための特殊なブレーク条件が含まれています。 たとえば、For ループ コンテナーでは、ループの各反復処理の開始点で実行を中断するブレークポイントを設定するための、ブレークの条件を有効にできます。  
  
 ブレークポイントをさらに柔軟に使用し、機能を強化するには、次のオプションを指定してブレークポイントの動作を変更できます。  
  
-   ヒット カウント。実行が中断するまでにブレーク条件に到達する最大回数です。  
  
-   ヒット カウントの種類。ブレーク条件によってブレークポイントがトリガーされるタイミングを指定するルールです。  
  
 [常に行う] 以外のヒット カウントの種類では、そのヒット カウントによってさらに限定されます。 たとえば、種類が [ヒット カウント (等しい)] でヒット カウントが 5 の場合、ブレーク条件が 6 回発生した時点で実行は中断されます。  
  
 次の表では、ヒット カウントの種類について説明します。  
  
|ヒット カウントの種類|説明|  
|--------------------|-----------------|  
|毎回|ブレークポイントにヒットすると、常に実行が中断されます。|  
|ヒット カウント (等しい)|ブレークポイントの発生回数がヒット カウントと等しくなると実行が中断されます。|  
|ヒット カウント (より大きいまたは等しい)|ブレークポイントの発生回数がヒット カウント以上になると実行が中断されます。|  
|ヒット カウント (倍数)|ヒット カウントの倍数だけブレークポイントが発生すると実行が中断されます。 たとえば、このオプションを 5 に設定すると、実行は 5 回ごとに中断されます。|  
  
#### <a name="to-set-breakpoints"></a>ブレークポイントを設定するには  
  
-   [タスクまたはコンテナーにブレークポイントを設定してパッケージをデバッグする](../debug-a-package-by-setting-breakpoints-on-a-task-or-a-container.md)  
  
## <a name="progress-reporting"></a>進行状況レポート  
 [!INCLUDE[ssIS](../../../includes/ssis-md.md)] デザイナーには、進行状況レポートの 2 種類が含まれています: のデザイン画面でコードの色分け表示、**制御フロー** ] タブと [進行状況メッセージ、**進行状況**タブです。  
  
 パッケージを実行すると、 [!INCLUDE[ssIS](../../../includes/ssis-md.md)] デザイナーでは、各タスクまたはコンテナーが実行状態を示す色で表示され、進行状況を確認できます。 この色により、要素が実行の待機中か、現在実行中か、正常に完了したか、または正しく終了しなかったか、などがわかります。 パッケージの実行を停止すると、表示は色分けされなくなります。  
  
 次の表では、実行状態を示す色について説明します。  
  
|色|実行状態|  
|-----------|----------------------|  
|灰色|実行の待機中です。|  
|黄|実行中|  
|[緑]|正常に実行されました。|  
|強調表示|実行されましたがエラーが発生しました。|  
  
 **[進行状況]** タブには、タスクとコンテナーが実行順に一覧表示され、それらの開始時刻と終了時刻、警告、およびエラー メッセージが表示されます。 パッケージの実行を停止すると、 **[その実行結果]** タブに進行に関する情報が表示され、そのまま使用できます。  
  
> [!NOTE]  
>  **[進行状況]** タブでのメッセージの表示を有効または無効にするには、 **[SSIS]** メニューの **[進行状況レポートのデバッグ]** オプションを切り替えます。  
  
 次の図は、 **[進行状況]** タブを示しています。  
  
 ![SSIS デザイナーの [進行状況] タブ](../media/mw-dtsflow04.gif "SSIS デザイナーの [進行状況] タブ")  
  
## <a name="debug-windows"></a>デバッグ ウィンドウ  
 [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)] には、ブレークポイントの処理、およびブレークポイントが含まれるパッケージのデバッグに使用できる多数のウィンドウがあります。 各ウィンドウの詳細については、ウィンドウを開いて F1 キーを押し、目的のウィンドウのヘルプを参照してください。  
  
 [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)]でこれらのウィンドウを開くには、 **[デバッグ]** メニューをクリックし、 **[ウィンドウ]** をポイントします。次に、 **[ブレークポイント]**、 **[出力]**、または **[イミディエイト]** をクリックします。  
  
 次の表は、各ウィンドウについて説明しています。  
  
|ウィンドウ|説明|  
|------------|-----------------|  
|ブレークポイント|パッケージ内のブレークポイントを一覧表示し、ブレークポイントの有効化および削除のオプションを提供します。|  
|[出力]|[!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)]の機能に関する状態メッセージを表示します。|  
|[イミディエイト]|式をデバッグして評価し、変数の値を出力するのに使用されます。|  
  
## <a name="see-also"></a>参照  
 [パッケージ開発のトラブルシューティング ツール](troubleshooting-tools-for-package-development.md)  
  
  