---
title: シーケンス クラスター モデル (中級者向けデータ マイニング チュートリアル) の検証 |Microsoft ドキュメント
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.suite: ''
ms.technology:
- analysis-services
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: f8a485d5-47ed-4dd5-bb66-ef4d6d463845
caps.latest.revision: 45
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: 6681bed0736f3927d812dfc0f6beb880aa2fdab3
ms.sourcegitcommit: 8c040e5b4e8c7d37ca295679410770a1af4d2e1f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/21/2018
ms.locfileid: "36313060"
---
# <a name="exploring-the-sequence-clustering-model-intermediate-data-mining-tutorial"></a>シーケンス クラスター モデルの検証 (中級者向けデータ マイニング チュートリアル)
  これで、作成した、 **Sequence Clustering with Region**モデルを検証を使用して、[!INCLUDE[msCoName](../includes/msconame-md.md)]シーケンス クラスター ビューアーで、**マイニング モデル ビューアー**データ マイニング デザイナーのタブです。 [!INCLUDE[msCoName](../includes/msconame-md.md)]シーケンス クラスター ビューアーには、5 つのタブが含まれています:**クラスター ダイアグラム**、**クラスターのプロファイル**、**クラスターの特性**、 **ClusterDiscrimination**、および**状態遷移**です。 このビューアーを使用する方法の詳細については、次を参照してください。 [Microsoft シーケンス クラスター ビューアーを使用してモデルを参照して](../../2014/analysis-services/data-mining/browse-a-model-using-the-microsoft-sequence-cluster-viewer.md)です。  
  
-   [クラスター ダイアグラム タブ](#bkmk_CDiagram)  
  
-   [クラスターのプロファイル タブ](#bkmk_CProfiles)  
  
-   [クラスターの特性 タブ](#bkmk_CChars)  
  
-   [クラスターの識別 タブ](#bkmk_CDiscrim2)  
  
-   [状態遷移 タブ](#bkmk_StateTran)  
  
-   [汎用コンテンツ ツリー ビューアー](#bkmk_Generic)  
  
##  <a name="bkmk_CDiagram"></a> クラスター ダイアグラム タブ  
 **クラスター ダイアグラム** タブは、データベース内のアルゴリズムが検出されたクラスターをグラフィカルに表示されます。 ダイアグラムのレイアウトは、類似するクラスターを緊密にグループ化したクラスターのリレーションシップを表します。 既定では、各ノードの色の濃さはクラスターに存在するケースの密度を表し、ノード色が濃くなるほど多数のケースが存在することになります。 ノードの色の濃さが各クラスター内の属性や状態のサポートを表すように、設定を変更することもできます。  
  
 目的のクラスターを簡単に識別したり操作したりできるようにクラスターの名前を変更することもできます。 このチュートリアルでは、太平洋地域の顧客の割合が最も高いクラスターと全体のケースの数が最も多いクラスターの名前を変更します。  
  
> [!NOTE]  
>  データとモデル パラメーターによっては、モデルを再処理したときに、特定のクラスターに割り当てられたケースが変更されることがあります。 また、クラスターの名前を変更した場合、それらの名前は、マイニング モデルを再処理すると失われます。  
  
#### <a name="to-change-the-attribute-used-for-highlighting-clusters"></a>クラスターを強調表示するために使用される属性を変更するには  
  
1.  **網掛け変数**一覧で、**モデル**です。  
  
2.  選択**Cycling Cap**で、**状態** ボックスの一覧です。  
  
     ダイアグラムが更新されて、選択した製品の各クラスターにおける集中度が表示されます。 最も色の濃いクラスターに、サイクリング キャップが最も高い密度で含まれます。 シェーディング変数は、任意の入力列の任意の状態を使用するように変更できます。  
  
3.  **網掛け変数**一覧で、**母集団**です。  
  
     シェーディング変数を母集団に変更すると、ダイアグラムが更新されて、クラスターがサイズで比較されるようになります。 最も色の濃いクラスターに最も多くのケースが含まれています。  
  
#### <a name="to-rename-nodes-in-the-model"></a>モデルのノードの名前を変更するには  
  
1.  変更**網掛け変数**に`Region`、設定と**状態**に**太平洋**です。  
  
2.  グラフで最も色の濃いノードを強調表示させます。  
  
3.  このクラスターを右クリックし **クラスターの名前を変更します。**  
  
4.  名前を入力します**Pacific Cluster です。**  
  
5.  値を変更**網掛け変数**に**母集団**です。  
  
6.  更新されたグラフで、最も色の濃いクラスター (最も大きなクラスター) を見つけます。 色の濃さからはどのクラスターが最も大きいか判断できない場合は、各クラスターの上にマウス ポインターを置いてツールヒントを確認し、最も多くのケースが含まれているクラスターを選択します。  
  
7.  このクラスターを右クリックし **クラスターの名前を変更**です。 新しい名前を入力`Largest Cluster`です。  
  
 クラスターを表すノードからドリルスルーして、各クラスター内のケースの詳細を表示することができます。 たとえば、顧客に電子メールを送信するなど、分析の結果に対して操作を実行する場合に便利です。 構造には含まれているがモデルでは使用されていない、ケースのその他の属性を参照することもできます (Region や IncomeGroup など)。 マイニング モデルからドリルスルーする基になるケースに関する詳細については、次を参照してください。[ドリルスルー クエリ&#40;データ マイニング&#41;](../../2014/analysis-services/data-mining/drillthrough-queries-data-mining.md)です。  
  
#### <a name="to-drill-through-to-details-from-the-cluster-diagram"></a>クラスター ダイアグラムから詳細情報にドリルスルーするには  
  
1.  右クリック`Pacific Cluster`**ドリル スルー**、し、**モデルおよび構造列**です。  
  
     **ドリル スルー**  ダイアログ ボックスが表示されます。 モデル内に使用されていないが、照会するために使用できる列が付きます**構造**です。  
  
     このクラスターに含まれている顧客はほとんどが太平洋地域の顧客で、その他の地域の顧客はごくわずかであることがわかります。  
  
2.  入れ子になった列 v Assoc Seq Line Items のプラス記号をクリックして、特定の顧客注文のアイテムのシーケンスを表示します。  
  
3.  閉じる、**ドリル スルー**  ダイアログ ボックス。  
  
    > [!NOTE]  
    >  **再生**ボタンをクリックすると、データのクエリを再実行することができます。 ただし、クエリを再実行は変わりませんが表示されたら、データ モデルが更新されていない限り動的にバック グラウンドで他のプロセスでします。  
  
 [ページのトップへ](#bkmk_CDiagram)  
  
##  <a name="bkmk_CProfiles"></a> クラスターのプロファイル タブ  
 **クラスターのプロファイル**タブには、各クラスター内にあるシーケンスが表示されます。 個々 の列の右側に、クラスターが一覧表示、**状態**列です。  
  
 ビューアーで、**モデル**行には、クラスター内の項目の全体的な分布を記述し、 **Model.samples**行には、アイテムのシーケンスが含まれています。 各セルにカラー シーケンスの各行の**Model.samples**行は、クラスター内にランダムに選択したユーザーの動作を表します。  
  
 シーケンス ヒストグラムでは、各製品モデルがそれぞれ異なる色で示されます。 マイニング凡例は、色分けと製品モデル名の両方を使用して製品のシーケンスを表します。 クラスターのモデルにその他の列 (Region や Income Group など) を追加した場合は、各列に対応する追加の行がビューアーに含まれます。それらの行には、各クラスター内のそれらの値の分布が表示されます。  
  
#### <a name="to-view-the-sequences-that-are-most-common-in-a-cluster"></a>クラスターで最も一般的なシーケンスを表示するには  
  
1.  右クリックし、**モデル**クラスターについては、列内の行`Largest Cluster`を選択して**凡例を表示する**です。  
  
     **色**列には、シーケンスで検出された項目の頻度を示す網掛けされたバーが含まれています。 各アイテムがそれぞれ異なる色で表されます。 **意味**列がそれぞれの色に対する製品モデル名を一覧表示します。 **配布**列は、このアイテムがシーケンスに含まれているケースの割合を示します。  
  
2.  閉じる、**マイニング凡例**です。  
  
3.  右クリックし、 **Model.samples** 、見出し、列内の行**母集団、** 選択**凡例を表示する**です。  
  
4.  全体的なモデル内のシーケンスの一覧をスキャンします。`.`  
  
     マイニング凡例では最も一般的なシーケンスが最初に表示されるため、多くのシーケンスで Mountain Tire Tube が最初のアイテムになっていることがわかります。 これは、Mountain Tire Tube を最初に買い物かごに入れる顧客が多いことを示しています。  
  
#### <a name="to-drill-through-to-cases-from-the-cluster-viewer"></a>クラスター ビューアーからケースにドリルスルーするには  
  
1.  下へスクロール属性 ペイン内の行が見つかるまで、`Region`属性。  
  
     モデルでは、各クラスターのヒストグラムと 1 つの追加ヒストグラムの行に含まれる**母集団**モデルで使用されたケースのセット全体を意味します。 ヒストグラムとは、さまざまな色を含むバーで、それぞれの色が属性を表し、色の付いた部分のサイズがその色の属性を持つケースの割合を表します。  
  
2.  名前を変更したクラスターのヒストグラムを比較`Pacific Cluster`と`Largest Cluster`です。 各クラスターはそれぞれ異なる列に表示されます。  
  
     どちらも単色に見えますが、同じ色ではありません。  
  
3.  `Region`行で、カラー ヒストグラムの上にマウスを置きます`Largest Cluster`です。  
  
     各地域のケースの実際の割合を示す値がツールヒントに表示されます。  
  
4.  カラー ヒストグラムを右クリックし、`Region`行の`Pacific Cluster`**ドリル スルー**、し、**モデル列のみ**です。  
  
5.  スクロール バーを動かして、このクラスターのすべての顧客を調べます。  
  
     詳細情報にドリルスルーした結果からは、クラスターに含まれている注文のほとんどが太平洋地域からの注文であっても、北米地域やヨーロッパ地域からの注文もわずかに含まれていることがわかります。  
  
6.  閉じる、**ドリル スルー**  ダイアログ ボックス。  
  
 [ページのトップへ](#bkmk_CDiagram)  
  
##  <a name="bkmk_CChars"></a> クラスターの特性 タブ  
 **クラスターの特性** タブを選択したクラスターの属性値の重要度を視覚的に表現するバーを表示することによってクラスターにおける状態間の遷移をまとめたものです。 **変数**列は、選択したクラスターや母集団で重要にする見つかったするモデルを示して: 特定の値またはと呼ばれる値の間のリレーションシップのいずれか*遷移*です。 **値**列値または遷移の詳細については、および**確率**列が視覚的にその属性または遷移の重みを表します。  
  
#### <a name="to-view-the-important-attributes-for-a-cluster"></a>クラスターの重要な属性を表示するには  
  
1.  **クラスター**ドロップダウン リストで、`Pacific Cluster`です。  
  
     名前を変更したクラスターの特性を表示する更新プログラムの一覧`Pacific Cluster`です。 このクラスターで最も重要な特性は`Region`します。  
  
2.  色付きのバーの行の上にマウスを置きます`Region`です。  
  
     値が Pacific である確率が非常に高いことがわかります。 これらの値を解釈する方法の詳細については、次を参照してください。 [Microsoft シーケンス クラスタ リング アルゴリズム テクニカル リファレンス](../../2014/analysis-services/data-mining/microsoft-sequence-clustering-algorithm-technical-reference.md)です。  
  
3.  最初の遷移行が見つかるまでクラスターの特性の一覧を調べていきます。  
  
4.  遷移行には、遷移のテキストが含まれています。 で、**変数**列、および連続属性の値の組み合わせ、**値**列です。 [Start] や missing がシーケンスに含まれる場合もあります。  
  
     たとえば、遷移の値が "[Start] -> Road Tire Tube" だった場合は、 そのクラスターの顧客がよく Road Tire Tube を最初に買い物かごに入れているということになります。 これは、その製品が顧客によって最初に探される人気のアイテムであることを示している場合もあれば、その製品がその購入サイトで見つけやすいということを示しているだけの場合もあります。  
  
5.  ない最初の遷移が見つかるまで一覧をスクロールする **[Start]** または**ありません**にします。  
  
     たとえば、移行を検索する**Touring Tire, Touring Tire Tube**です。 そのクラスターの顧客がこれらのアイテムをよくこの順序で一緒に購入していることになります。  
  
6.  この遷移の色付きのバーの上にマウス ポインターを置きます。  
  
     この遷移の確率がパーセントで表示されます。  
  
7.  **クラスター**ドロップダウン リストで、**母集団 (すべて)** です。  
  
     属性の一覧が更新されて、モデルの作成に使用されたすべての注文の特性が表示されます。 クラスター間で区別するための最も重要な特性は、このマイニング モデルで`Region`の値を持つ**北米**です。  
  
 以上の作業から、2 つのことがわかりました。 1 つは、意味のある数の組み合わせを得るためには大量のデータが必要であるということです。 たとえば、確率の高いシーケンスが含まれる可能性が、 **[Start]** または**Missing**状態です。  
  
 属性を厳密なクラスター化の効果があること、2 つ目は、 `Region`、これが、シーケンスのグループを表示する困難になります。 したがって、地域や収入の列を含まない、シーケンスのみを使用する別のモデルを作成することにします。  
  
 [ページのトップへ](#bkmk_CDiagram)  
  
##  <a name="bkmk_CDiscrim2"></a> クラスターの識別 タブ  
 **クラスターの識別** タブを使用して、どの属性が別のクラスターから、特定のクラスターを区別する、2 つのクラスターを比較できます。 タブには、4 つの列が含まれています:**変数**、**値**、**クラスター 1**、および**クラスター 2**です。  任意のクラスターとして使用することができます**クラスター 1**と**クラスター 2**です。  
  
 **変数**列は、いずれかである列の名前または列名と、単語の組み合わせと、属性の名前を示す**遷移**です。 **値**列属性または遷移の正確な値が表示されます。 列の色付きのバー**クラスター 1**と**クラスター 2**比較するクラスター内の属性の強さを示します。 バーが長いほど、その属性を持つケースがクラスターに含まれる可能性が高くなります。  
  
#### <a name="to-compare-two-clusters-by-using-the-cluster-discrimination-tab"></a>[クラスターの識別] タブを使用して 2 つのクラスターを比較するには  
  
1.  **クラスターの識別**] タブの**クラスター 1**[`Pacific Cluster`です。  
  
     既定では、選択した**クラスター 2**変更**太平洋地域のビットごとの補数 * * * クラスター**です。  
  
     区別する最も重要な属性`Pacific Cluster`領域は、その他のすべてのケースからです。 地域がクラスター化のための属性として強力すぎるために、他の属性がわかりにくくなっています。 この影響を回避するために、いくつかの小さなクラスターを互いに比較してみます。 そうすれば、属性の一覧が変更されて、モデル間の遷移がより多く含まれるようになる可能性があります。  
  
2.  遷移行を見つけて、色付きのバーの上にマウス ポインターを置きます。  
  
     内の項目、**値**列は、状態と遷移の両方を含めることができます。 各アイテムの色は識別スコアを表します。 さまざまなスコアの意味の詳細については、次を参照してください。[マイニング モデル コンテンツのシーケンス クラスタ リング モデル&#40;Analysis Services - データ マイニング&#41;](../../2014/analysis-services/data-mining/mining-model-content-for-sequence-clustering-models.md)です。  
  
 [ページのトップへ](#bkmk_CDiagram)  
  
##  <a name="bkmk_StateTran"></a> 状態遷移 タブ  
 **状態遷移** タブで、クラスターを選択し、その状態の遷移を参照できます。 選択した場合**母集団 (すべて)** クラスター ドロップダウン リストから、ダイアグラムはマイニング モデル全体の状態の分布を示します。  
  
 グラフの各ノードは、分析しようとしているシーケンスの状態または使用可能な値を表します。 ノードの背景色は、その状態の頻度を表します。 一部の状態を結ぶ線は、状態間の遷移を表します。 スライダーを上下に動かして、遷移の確率のしきい値を変更することもできます。 一部のノードに関連付けられている数値は、その状態の確率を表します。  
  
#### <a name="to-explore-the-relationships-in-the-state-transition-tab"></a>[状態遷移] タブで関係を調査するには  
  
1.  **状態遷移**select は、マイニング モデル ビューアーのタブ`Pacific Cluster`クラスターの一覧からです。 いることを確認、**線のラベルを表示する**オプションを選択します。  
  
     グラフが更新されて、このクラスターで最も一般的な遷移が表示されます。  
  
2.  別のノードと線で結ばれている任意のノードをクリックします。  
  
     グラフが更新されて、関連するノードが強調表示されます。 線の横の数値はその遷移の確率を表します。  
  
3.  最大スライダー**すべてのリンク**をグラフに含まれる遷移の数を増やします。  
  
4.  選択**母集団 (すべて)** から**クラスター**です。  
  
     別のクラスターを読み込むとグラフが既定の表示設定にリセットされるため、スライダー コントロールが中央の位置に戻ります。  
  
5.  対象となるグラフの最も色の濃いノードをクリックして**sport-100**です。  
  
     この製品を他の製品と結ぶ線はありません。  
  
6.  スライダーを 1 段階上に動かして、グラフに含まれる遷移の数を増やします。 一番に進まないように**すべてのリンク**まだです。  
  
     グラフが更新されていくつかの遷移が追加されますが、Sport-100 モデルを含む遷移はありません。  
  
7.  スライダー コントロールをすべて移動**すべてのリンク**です。 まだ選択されていない場合は、Sport-100 ノードをクリックします。  
  
     グラフが更新されて、Sport-100 という製品を含む多数の遷移が表示されます。 ノードを結ぶ線の矢印の向きは、Sport-100 がペアの 1 つ目のアイテムとして選択されたか 2 つ目のアイテムとして選択されたかを表します。  
  
8.  Touring Tire のノードをクリックし、スライダー コントロールを中央の位置まで戻します。  
  
     最初は、Touring Tire を他の製品と結ぶ遷移の線が多数ありましたが、確率のしきい値を上げると、確率の低い遷移がグラフから取り除かれて、"Touring Tire > Touring Tire Tube" という遷移のみになります。 この遷移は、顧客が Touring Tire を買い物かごに入れた場合、その次に Touring Tire Tube をかごに入れる確率が高いことを示しています。  
  
 [ページのトップへ](#bkmk_CDiagram)  
  
##  <a name="bkmk_Generic"></a> 汎用コンテンツ ツリー ビューアー  
 このビューアーは、アルゴリズムやモデルの種類に関係なく、すべてのモデルで使用できます。 **MicrosoftGeneric コンテンツ ツリー ビューアー**から利用できる、**ビューアー**ドロップダウン リスト。  
  
 コンテンツ ツリーは、マイニング モデルを一連のノードで表したものです。各ノードは、トレーニング データに関する学習済みの知識を表します。 ノードには、いくつかの属性が共通するパターン、一連のルール、クラスター、または日付範囲の定義を含めることができます。 ノードの正確な内容はアルゴリズムや予測可能な属性に応じて変わりますが、内容の全体的な表示は同じです。  
  
 各ノードを展開して、より詳細なレベルで表示したり、任意のノードの内容をクリップボードにコピーしたりできます。 詳細については、「 [Microsoft 汎用コンテンツ ツリー ビューアーを使用したモデルの参照](../../2014/analysis-services/data-mining/browse-a-model-using-the-microsoft-generic-content-tree-viewer.md)」をご覧ください。  
  
#### <a name="to-view-details-for-a-sequence-clustering-model-by-using-the-generic-content-tree-viewer"></a>汎用コンテンツ ツリー ビューアーを使用してシーケンス クラスター モデルの詳細を表示するには  
  
1.  **マイニング モデル ビューアー**タブをクリックし、**ビューアー**一覧**Microsoft 汎用コンテンツ ツリー ビューアー**です。  
  
2.  **ノードのキャプション** ウィンドウで、をクリックして`Pacific Cluster (1)`です。  
  
     このノードの名前には、クラスターに割り当てた表示名と、基になるノード ID の両方が含まれています。 ノード ID を使用してモデルの詳細にドリル ダウンできます。  
  
3.  名前付き、最初の子ノードを展開して**シーケンス クラスターの 1 レベル**です。  
  
     クラスターのシーケンス レベル ノードには、そのクラスターに含まれる状態と遷移の詳細が含まれています。 これらの詳細 (NODE_DISTRIBUTION 列に表示されます) を使用して、各クラスターまたはモデル全体のシーケンスと状態を調査することができます。  
  
4.  ノードをさらに展開して、HTML ビューアー ペインに詳細を表示します。  
  
 マイニング モデルの内容と、ビューアーで詳細を使用する方法の詳細については、次を参照してください。[シーケンス クラスタ リング モデルのマイニング モデル コンテンツ&#40;Analysis Services - データ マイニング&#41;](../../2014/analysis-services/data-mining/mining-model-content-for-sequence-clustering-models.md)です。  
  
 [ページのトップへ](#bkmk_CDiagram)  
  
## <a name="next-task-in-lesson"></a>このレッスンの次の作業  
 [関連するシーケンス クラスター モデルを作成する&#40;中級レベルのデータ マイニング チュートリアル&#41;](../../2014/tutorials/creating-a-related-sequence-clustering-model-intermediate-data-mining-tutorial.md)  
  
## <a name="see-also"></a>参照  
 [Microsoft シーケンス クラスタ リング アルゴリズム](../../2014/analysis-services/data-mining/microsoft-sequence-clustering-algorithm.md)   
 [シーケンス クラスター モデルのクエリの例](../../2014/analysis-services/data-mining/sequence-clustering-model-query-examples.md)  
  
  