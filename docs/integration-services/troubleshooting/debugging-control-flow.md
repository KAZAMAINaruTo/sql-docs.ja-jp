---
title: "制御フローのデバッグ | Microsoft Docs"
ms.custom: ""
ms.date: "03/14/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "integration-services"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "進行状況レポート [Integration Services]"
  - "ブレークポイント [Integration Services]"
  - "デバッグ [Integration Services], 制御フロー"
  - "制御フロー [Integration Services], デバッグ"
  - "色分け表示の進行状況レポート [Integration Services]"
  - "[ブレークポイントの設定] ダイアログ ボックス"
ms.assetid: 54a458cc-9f4f-4b48-8cf2-db2e0fa7756c
caps.latest.revision: 54
author: "douglaslMS"
ms.author: "douglasl"
manager: "jhubbard"
caps.handback.revision: 54
---
# 制御フローのデバッグ
  [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] と [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] には、[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] パッケージの制御フローのトラブルシューティングに使用できる、機能とツールが含まれています。  
  
-   [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] では、コンテナーおよびタスク上のブレークポイントがサポートされています。  
  
-   [!INCLUDE[ssIS](../../includes/ssis-md.md)] デザイナーでは、実行時の進行状況レポートが用意されています。  
  
-   [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] では、デバッグ ウィンドウが用意されています。  
  
## ブレークポイント  
 [!INCLUDE[ssIS](../../includes/ssis-md.md)] デザイナーには、**[ブレークポイントの設定]** ダイアログ ボックスが用意されています。このダイアログ ボックスから、ブレークの条件を有効にし、パッケージの実行が中断するまでのブレークポイントの到達回数を指定することにより、ブレークポイントを設定できます。 ブレークポイントは、パッケージ レベル、または個別のコンポーネントのレベルで有効にできます。 タスクまたはコンテナー レベルでブレークの条件を有効にすると、**[制御フロー]** タブのデザイン画面上にあるタスクまたはコンテナーの隣に、ブレークポイントのアイコンが表示されます。 パッケージ レベルでブレークの条件を有効にすると、**[制御フロー]** タブのラベル上にブレークポイントのアイコンが表示されます。  
  
 ブレークポイントにヒットすると、ブレークポイントのアイコンが変化し、ブレークポイントの発生元を識別できます。 ブレークポイントは、パッケージの実行時に追加、削除、および変更できます。  
  
 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] ではブレークの条件が 10 件用意されており、すべてのタスクとコンテナーで有効にできます。 **[ブレークポイントの設定]** ダイアログ ボックスでは、次の条件に基づいてブレークポイントを有効にできます。  
  
|ブレークの条件|Description|  
|---------------------|-----------------|  
|タスクまたはコンテナーが **OnPreExecute** イベントを受け取ったとき。|タスクが実行される直前に呼び出されます。 このイベントは、タスクまたはコンテナーが実行される直前に、タスクまたはコンテナーから発生します。|  
|タスクまたはコンテナーが **OnPostExecute** イベントを受け取ったとき。|タスクの実行ロジックが完了した直後に呼び出されます。 このイベントは、タスクまたはコンテナーが実行された直後に、タスクまたはコンテナーから発生します。|  
|タスクまたはコンテナーが **OnError** イベントを受け取ったとき。|エラーが発生すると、タスクまたはコンテナーによって呼び出されます。|  
|タスクまたはコンテナーが **OnWarning** イベントを受け取ったとき。|タスクでエラーは発生していないが、警告が確認された状態にあるときに、呼び出されます。|  
|タスクまたはコンテナーが **OnInformation** イベントを受け取ったとき。|タスクから情報が提供される必要があるときに呼び出されます。|  
|タスクまたはコンテナーが **OnTaskFailed** イベントを受け取ったとき。|タスク ホストが失敗したとき、タスク ホストによって呼び出されます。|  
|タスクまたはコンテナーが **OnProgress** イベントを受け取ったとき。|タスクの実行の進行状況を更新するために呼び出されます。|  
|タスクまたはコンテナーが **OnQueryCancel** イベントを受け取ったとき。|タスク処理の実行をキャンセルできる場合、任意のタイミングで呼び出されます。|  
|タスクまたはコンテナーが **OnVariableValueChanged** イベントを受け取ったとき。|変数の値が変更されたとき、[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] ランタイムによって呼び出されます。 このイベントを起動するには、変数の RaiseChangeEvent を **true** に設定する必要があります。<br /><br /> **\*\* 警告 \*\*** このブレークポイントに関連付けられている変数は、**コンテナー** スコープで定義する必要があります。 この変数がパッケージ スコープで定義されると、ブレークポイントにヒットしません。|  
|タスクまたはコンテナーが **OnCustomEvent** イベントを受け取ったとき。|タスクによって定義されたカスタム イベントを起動するため、タスクによって呼び出されます。|  
  
 一部のタスクとコンテナーには、すべてのタスクとコンテナーで使用できるブレークの条件以外に、ブレークポイントを設定するための特殊なブレーク条件が含まれています。 たとえば、For ループ コンテナーでは、ループの各反復処理の開始点で実行を中断するブレークポイントを設定するための、ブレークの条件を有効にできます。  
  
 ブレークポイントをさらに柔軟に使用し、機能を強化するには、次のオプションを指定してブレークポイントの動作を変更できます。  
  
-   ヒット カウント。実行が中断するまでにブレーク条件に到達する最大回数です。  
  
-   ヒット カウントの種類。ブレーク条件によってブレークポイントがトリガーされるタイミングを指定するルールです。  
  
 [常に行う] 以外のヒット カウントの種類では、そのヒット カウントによってさらに限定されます。 たとえば、種類が [ヒット カウント (等しい)] でヒット カウントが 5 の場合、ブレーク条件が 6 回発生した時点で実行は中断されます。  
  
 次の表では、ヒット カウントの種類について説明します。  
  
|ヒット カウントの種類|Description|  
|--------------------|-----------------|  
|毎回|ブレークポイントにヒットすると、常に実行が中断されます。|  
|ヒット カウント (等しい)|ブレークポイントの発生回数がヒット カウントと等しくなると実行が中断されます。|  
|ヒット カウント (より大きいまたは等しい)|ブレークポイントの発生回数がヒット カウント以上になると実行が中断されます。|  
|ヒット カウント (倍数)|ヒット カウントの倍数だけブレークポイントが発生すると実行が中断されます。 たとえば、このオプションを 5 に設定すると、実行は 5 回ごとに中断されます。|  
  
#### ブレークポイントを設定するには  
  
-   [タスクまたはコンテナーにブレークポイントを設定してパッケージをデバッグする](../../integration-services/troubleshooting/debug-a-package-by-setting-breakpoints-on-a-task-or-a-container.md)  
  
## 進行状況レポート  
 [!INCLUDE[ssIS](../../includes/ssis-md.md)] デザイナーには、2 種類の進行状況レポート機能が含まれています。1 つは **[制御フロー]** タブのデザイン画面上の色分けで、もう 1 つは **[進行状況]** タブ上の進行状況メッセージです。  
  
 パッケージを実行すると、[!INCLUDE[ssIS](../../includes/ssis-md.md)] デザイナーでは、各タスクまたはコンテナーが実行状態を示す色で表示され、進行状況を確認できます。 この色により、要素が実行の待機中か、現在実行中か、正常に完了したか、または正しく終了しなかったか、などがわかります。 パッケージの実行を停止すると、表示は色分けされなくなります。  
  
 次の表では、実行状態を示す色について説明します。  
  
|色|実行状態|  
|-----------|----------------------|  
|灰色|実行の待機中です。|  
|黄|実行中|  
|[緑]|正常に実行されました。|  
|強調表示|実行されましたがエラーが発生しました。|  
  
 **[進行状況]** タブには、タスクとコンテナーが実行順に一覧表示され、それらの開始時刻と終了時刻、警告、およびエラー メッセージが表示されます。 パッケージの実行を停止すると、**[その実行結果]** タブに進行に関する情報が表示され、そのまま使用できます。  
  
> [!NOTE]  
>  **[進行状況]** タブでのメッセージの表示を有効または無効にするには、 **[SSIS]** メニューの **[進行状況レポートのデバッグ]** オプションを切り替えます。  
  
 次の図は、**[進行状況]** タブを示しています。  
  
 ![SSIS デザイナーの [進捗状況] タブ](../../integration-services/troubleshooting/media/mw-dtsflow04.gif "SSIS デザイナーの [進捗状況] タブ")  
  
## デバッグ ウィンドウ  
 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] には、ブレークポイントの処理、およびブレークポイントが含まれるパッケージのデバッグに使用できる多数のウィンドウがあります。 各ウィンドウの詳細については、ウィンドウを開いて F1 キーを押し、目的のウィンドウのヘルプを参照してください。  
  
 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]でこれらのウィンドウを開くには、**[デバッグ]** メニューをクリックし、**[ウィンドウ]** をポイントします。次に、**[ブレークポイント]**、**[出力]**、または **[イミディエイト]** をクリックします。  
  
 次の表は、各ウィンドウについて説明しています。  
  
|ウィンドウ|Description|  
|------------|-----------------|  
|ブレークポイント|パッケージ内のブレークポイントを一覧表示し、ブレークポイントの有効化および削除のオプションを提供します。|  
|出力|[!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] の機能に関する状態メッセージを表示します。|  
|イミディエイト|式をデバッグして評価し、変数の値を出力するのに使用されます。|  
  
## 参照  
 [パッケージ開発のトラブルシューティング ツール](../../integration-services/troubleshooting/troubleshooting-tools-for-package-development.md)  
  
  