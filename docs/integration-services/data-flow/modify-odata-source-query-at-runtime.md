---
title: "実行時に、OData ソース クエリを提供 |Microsoft ドキュメント"
ms.custom: 
ms.date: 03/01/2017
ms.prod: sql-server-2016
ms.reviewer: 
ms.suite: 
ms.technology:
- integration-services
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: bcbba7f4-6e5d-46e6-a73a-3f17d3ff376a
caps.latest.revision: 7
author: douglaslMS
ms.author: douglasl
manager: jhubbard
ms.translationtype: MT
ms.sourcegitcommit: ee79d0f1b31963b7d13aa07bf4603246139c3a7c
ms.openlocfilehash: 9da1f1be0a790d01f9403d6fc05a5c1498c0ee8b
ms.contentlocale: ja-jp
ms.lasthandoff: 08/23/2017

---
# <a name="provide-an-odata-source-query-at-runtime"></a>実行時に、OData ソース クエリを提供します。
 追加することによって実行時に、OData ソース クエリを変更することができます、*式*を**[OData ソース] です [。クエリの実行]**データ フロー タスクのプロパティです。  
  
 返される列がデザイン時に返された同じ列として使用する必要があります。それ以外の場合、パッケージを実行すると、エラーを取得します。 $select クエリ オプションを使用する場合は、同じ列を (同じ順序で) 指定してください。 $select オプションを使用するより安全な代替手段は、ソース コンポーネント UI で、直接使用することを希望しない列を選択解除することです。  
  
 クエリの値を実行時に動的に設定するいくつかの方法があります。 一般的なメソッドのいくつか示します。  
  
## <a name="provide-the-query-as-a-parameter"></a>クエリをパラメーターとして提供します。  
 次の手順では、パッケージのパラメーターとして OData ソース コンポーネントによって使用されるクエリを公開する方法を示します。  
  
1.  **[データ フロー タスク]** を右クリックし、 **[パラメーター化]** オプションを選択します。  
  
2.  **パラメーター化**ダイアログで、 **[\<OData ソース コンポーネントの名前 >] です [。クエリの実行]**の**プロパティ**です。  
  
3.  **[新しいパラメーターの作成]** または **[既存のパラメーターを使用する]**のどちらかを選択します。  
  
4.  選択した場合**新しいパラメーターの作成**:  
  
    1.  パラメーターの **[名前]** と **[説明]** を入力します。  
  
    2.  パラメーターの既定の **[値]** を指定します。  
  
    3.  パラメーターに対応する **[スコープ]** (**[パッケージ]** または **[プロジェクト]**) を指定します。  
  
    4.  パラメーターが **[必須]** であるかどうかを指定します。  
  
5.  **[OK]** をクリックして、ダイアログ ボックスを閉じます。  
  
## <a name="provide-the-query-with-an-expression"></a>式にクエリを提供します。
 このメソッドは、実行時にクエリ文字列を動的に構築するときに便利です。
  
1.  選択、 **Data Flow Task**を格納している、 **OData ソース**です。  
  
2.  **[プロパティ]** ウィンドウで、 **[Expressions]** プロパティを強調表示します。  
  
3.  [...] (省略記号) をクリックする、**プロパティ式エディター**です。  
  
4.  **[OData ソース].[クエリ]** プロパティを選択します。  
  
5.  [...] (省略記号) ボタンを**式**です。  
  
6.  **[式]**を入力します。  
  
7.  **[OK]**をクリックします。  
  
> [!NOTE]  
> このアプローチを使用するときにする必要があります、値を設定するが正しくエンコードされた URL。 ユーザー入力から値を受け取る (たとえば、パラメーターに基づいて個々のクエリ オプションの値を設定する) 場合は、SQL インジェクション型の攻撃の可能性を防止するために、値を検証する必要があります。  
  
  
