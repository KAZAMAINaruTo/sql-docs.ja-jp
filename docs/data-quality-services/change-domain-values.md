---
title: "ドメイン値の変更 | Microsoft Docs"
ms.custom: ""
ms.date: "11/08/2011"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "data-quality-services"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "sql13.dqs.dm.values.f1"
ms.assetid: 8c90ab70-3aea-4eaf-a174-4159485c87d3
caps.latest.revision: 31
author: "JennieHubbard"
ms.author: "jhubbard"
manager: "jhubbard"
caps.handback.revision: 31
---
# ドメイン値の変更
  このトピックでは、[!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) でナレッジ ベースのメタデータを変更および拡張する方法について説明します。 ナレッジ検出でナレッジを生成したり、ナレッジ ベースまたはドメインにナレッジをインポートしたり、別のナレッジ ベースに基づいてナレッジ ベースを作成した後に、データ値を対話形式で変更することができます。 ナレッジ ベースを生成するときは、コンピューター支援型のプロセスを利用するほかに、独自のナレッジを使用してデータ値を確認したり、次のように変更したりできます。  
  
-   値の一覧にドメイン値を追加するか、値を選択して一覧から削除します。  
  
-   DQS 検出プロセスによって判定されたドメイン値の状態を、"適切"、"エラー"、または "無効" に変更します。  
  
-   "エラー" または "無効" の値の置換値を入力します。 ドメインに属していない値 (ドメインのデータ型に準拠しない値やドメイン ルールが失敗した値など) は "無効" になります。 ドメインに属していても、構文エラーがある値は "エラー" になります。  
  
-   2 つ以上の値をシノニムとして設定し、検出プロセスによって設定された先頭の値を変更します。その結果、先頭の値によってシノニム値が置き換えられます (ドメインを作成したときに **[先頭の値を使用]** プロパティを設定した場合)。  
  
-   Excel ファイルからドメイン値をインポートします。  
  
##  <a name="BeforeYouBegin"></a> はじめに  
  
###  <a name="Prerequisites"></a> 前提条件  
 ドメイン値を変更するには、ドメイン管理アクティビティでナレッジ ベースとドメインを開いておく必要があります。  
  
###  <a name="Security"></a> セキュリティ  
  
####  <a name="Permissions"></a> アクセス許可  
 ドメイン値を変更するには、DQS_MAIN データベースの dqs_kb_editor ロールまたは dqs_administrator ロールが必要です。  
  
##  <a name="Change"></a> ドメイン値の変更  
 **"値"** テーブルには、ナレッジ ベースの 1 つのドメインに追加されたナレッジが表示されます。 ドメイン リストで別のドメインを選択すれば、いつでもそのドメインの値を表示することができます。 フィールドの列を以下に示します。  
  
-   **[値]** 列: 選択したドメインに検出プロセスによってデータ サンプルのフィールドから追加されたすべての値が表示されます。 "エラー" と見なされた値は、"適切" と見なされた値のシノニムとして表示されます。  
  
-   **[種類]** 列: 検出プロセスによって判別された値の状態が表示されます。 緑のチェック マークは、値の状態が "適切" または "修正済み" であることを示します。赤い十字型は、値の状態が "エラー" であることを示します。感嘆符付きのオレンジ色の三角形は、値が "無効" であることを示します。 "無効" の値は、ドメインのデータ要件に準拠していません。 "エラー" の値は、有効である可能性がありますが、データ上の理由から適切な値ではありません。  
  
-   **[次に修正]** 列: "エラー" または "無効" としてマークされた元の値から変更される適切な値が表示されます。 DQS では、検出プロセスの結果として適切な値を提案することができます。  
  
 値を変更するには、次の手順に従います。  
  
1.  [!INCLUDE[ssDQSInitialStep](../includes/ssdqsinitialstep-md.md)] [Data Quality Client アプリケーションを実行する](../data-quality-services/run-the-data-quality-client-application.md)です。  
  
2.  [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] のホーム画面で、ナレッジ ベースを開くか作成します。 アクティビティとして **[ドメイン管理]** を選択した後に、 **[開く]** または **[作成]**をクリックします。 詳細については、「 [Create a Knowledge Base](../data-quality-services/create-a-knowledge-base.md) 」または「 [Open a Knowledge Base](../data-quality-services/open-a-knowledge-base.md)」を参照してください。  
  
    > [!NOTE]  
    >  Data Quality Service クライアントのドメイン管理用のページには、それぞれ異なるドメイン管理操作に対応する 5 つのタブが含まれています。 ウィザード ベースのプロセスではないため、任意の管理操作を個別に実行することができます。  
  
3.  **[ドメイン管理]** ページの **[ドメイン リスト]** から、値を変更するドメインを選択するか、新しいドメインを作成します。 新しいドメインを作成する必要がある場合は、「 [Create a Domain](../data-quality-services/create-a-domain.md)」を参照してください。 **[ドメイン値]** タブをクリックします。  
  
4.  **"値"** テーブルで、変更する必要がある値を表示します。 詳細については、次の「 [適切な値を表示する方法](#Display) 」を参照してください。  
  
5.  値の状態を変更するには、次の手順に従います。  
  
    -   **修正済みとしては、選択したドメインの値を設定**: 正しいにエラーまたは無効な値の状態を変更するに値を選択し、 **[選択したドメイン値が修正済みとして** (チェック)、アイコン バーの下向き矢印と種類のドロップダウン リストからです。 その "エラー" または "無効" の値が "適切" の値とグループ化される場合は、この操作の後でその値を削除します。  
  
    -   **エラーとして選択したドメインの値を設定**: エラーを修正または無効なから値の状態を変更するに値を選択し、 **エラーとして選択したドメイン値のセット** (× 印) アイコン、アイコン バーの下向き矢印と種類のドロップダウン リストからです。 **[次に修正]** 列に修正を入力することも、空のままにしておくこともできます。  
  
    -   **選択したドメインの値が無効として設定**: エラーを修正またはから無効な値の状態を変更するに値を選択し、をクリックして、 **無効として選択したドメイン値のセット** (三角形) のアイコン、アイコン バーの下向き矢印と種類のドロップダウン リストからです。 **[次に修正]** 列に修正を入力することも、空のままにしておくこともできます。  
  
    -   **[次に修正]**: 値を "エラー" または "無効" として設定した後、 **[次に修正]** 列に新しい値を入力すると、 その置換値のための新しい行が追加され、"適切" として指定されて、2 つの値がグループ化されます。 新しい値は先頭の値として太字で表示され、"エラー" または "無効" の値はインデントされます。  
  
6.  値をシノニムのグループとして指定するには、"適切" の値を複数選択し、次の手順に従います。  
  
    -   **[選択したドメイン値をシノニムとして設定]**: シノニムを設定するには、"適切" の値を複数選択し、 **[選択したドメイン値をシノニムとして設定]** アイコンをクリックします。 値がグループ化されて、値の 1 つが先頭の値として指定され、その他の値がその値に置き換えられます。 2 つの値をグループ化する場合、どちらかが "エラー" または "無効" であると、値がシノニムにならないことに注意してください。  
  
        > [!NOTE]  
        >  グループ内の複数の値とグループ外の値を選択してシノニムとして設定すると、正しくないエラー メッセージが表示されますが、 そのエラー メッセージのポップアップを閉じると、それらの値がシノニムとして正しく設定されます。  
  
    -   **[選択したシノニム間の関係を解除]**: 複数の値のシノニムの指定を取り消すには、値を選択し、 **[選択したシノニム間の関係を解除]** アイコンをクリックします。 シノニムのグループの解除は、値がグループ化されていて、両方の値が "適切" である場合にのみ実行できます。  
  
    -   **[選択したドメイン値をグループの先頭の値として設定]**: グループの先頭の値を変更するには、先頭の値として指定されていないグループ内の値を選択し、 **[選択したドメイン値をグループの先頭の値として設定]** をクリックします。 先頭の値が他の値の置換値として設定されます。 この操作は、2 つ以上の値がグループ化されていて、DQS によって指定された値から先頭の値を変更する場合にのみ実行できます。 先頭の値は青色の行で太字で示されます。  
  
7.  **スペル チェック**: 値に赤い波線の下線が付いている場合は、スペル チェックで値の修正が提案されています。 その値を右クリックし、必要に応じて修正を選択します。 値の型になります (または元のまま)、および修正に追加されます、 **が適切な** 列です。 下矢印をクリックすると、その他の修正案が表示されます。 手動で修正を入力してスペル チェックの辞書に追加すると、修正として選択できるようになります。 詳細については、「 [Use the DQS Speller](../data-quality-services/use-the-dqs-speller.md) 」および「 [Set Domain Properties](../data-quality-services/set-domain-properties.md)」を参照してください。  
  
    > [!NOTE]  
    >  スペル チェックを使用することができますか、有効にするに、 **ドメインのプロパティ** ] ページで無効になっている場合、または、 **ドメインのプロパティ** クリックすることができます] ページで、 **スペル チェックを有効または無効に** アイコンを **ドメイン値** そのページで有効にするページです。  
  
8.  **[新しいドメインの値を追加します]**: クリックすると、テーブルの末尾に行が追加されます。 その行に値を入力すると、行がアルファベット順に並べ替えられます。入力した値には、新しいエントリであることを示す星のマークが値の前に表示されます。  
  
9. **[ドメインの値を Excel からインポートします]**: Excel スプレッドシートから新しい値を追加するには、 **[値をインポートします]** アイコンの下矢印をクリックし、 **[ドメインの値を Excel からインポートします]**を選択します。 ファイル名を入力し、必要に応じて **[先頭の行を見出しとして使用]** を選択し、 **[OK]**をクリックします。 詳細については、「 [Import Values from an Excel File into a Domain](../data-quality-services/import-values-from-an-excel-file-into-a-domain.md)」をご参照ください。  
  
10. **[プロジェクトの値のインポート]**: データ品質プロジェクトから新しい値を追加するには、 **[値をインポートします]** アイコンの下矢印をクリックし、 **[プロジェクトの値のインポート]**を選択します。 ファイル名を入力し、必要に応じて **[先頭の行を見出しとして使用]** を選択し、 **[OK]**をクリックします。 値をインポートするプロジェクトを選択し、 **[OK]**をクリックします。 インポートされた値が表示されます。 **[完了]**をクリックします。 詳細については、「プロジェクトの値をドメインにインポートする」を参照してください。  
  
11. **選択したドメイン値を削除**: をドメインから 1 つまたは複数の既存の値を削除する値のテーブルで、値を選択し、 **選択したドメイン値を削除** アイコン。 DQS_NULL というエントリは削除できません。したがって、削除する値を複数選択した場合に、選択した値の中に DQS_NULL が含まれていると、操作が失敗します。  
  
12. **[完了]** をクリックし、「 [End the Domain Management Activity](../Topic/End%20the%20Domain%20Management%20Activity.md)」の説明に従ってドメイン管理アクティビティを完了します。  
  
##  <a name="FollowUp"></a> 補足情報: ドメイン ルールの変更後  
 ドメイン値を変更した後、ドメインで他のドメイン管理タスクを実行したり、ナレッジ検出を実行してナレッジをドメインに追加したり、照合ポリシーをドメインに追加することができます。 詳細については、次を参照してください。 [ナレッジ検出の実行](../data-quality-services/perform-knowledge-discovery.md), 、[ドメインの管理](../data-quality-services/managing-a-domain.md), 、または [照合ポリシーの作成](../data-quality-services/create-a-matching-policy.md)します。  
  
##  <a name="Meaning"></a> "適切"、"エラー"、"無効" の各値の意味  
 **[ドメイン値]** ページの **"値"** テーブルの値には、" **適切** "、" **エラー**"、" **無効**" のいずれかの **種類**がそれぞれ割り当てられています。 値の種類は、最初はナレッジ検出アクティビティによって生成されますが、必要に応じて変更できます。 最終的な種類は、検出とインタラクティブな変更の両方に基づいて、クレンジング アクティビティによって生成されます。 これらの設定の意味を以下に示します。  
  
-   **適切:** ドメインに属している、構文エラーのない値です。 たとえば、City ドメインの "Chicago" は "適切" です。  
  
-   **エラー:** ドメインに属している、正しくない値です。 たとえば、City ドメインの "Chicago" が "Shicago" になっている場合は "エラー" になります。 DQS では、検出プロセスで構文エラーおよび関連付けられた修正が検出された場合に、値が "エラー" として指定されます。 構文エラーには、スペルミスなどがあります。  
  
-   **無効:** ドメインに属していない、修正が関連付けられていない値です。 たとえば、City ドメインの値 "12345" は "無効" です。 DQS では、ドメイン ルールが失敗した場合に値が "無効" として指定されます。  
  
 値の種類は、他の 2 つのいずれかに手動で変更できます。 手動操作には、妥当性とエラーのセマンティクスは適用されません。 したがって、状態を変更せずに "無効" の値の修正を入力したり、 ドメイン ルールが失敗していない値を "無効" として指定したり、 検出プロセスで構文エラーが見つかっていない値を "エラー" として指定したりすることができます。 "適切" としてマークされている "エラー" の値の修正を、状態を変更せずに削除することもできます。  
  
 インタラクティブなデータのクレンジングを実行したとき、 **管理と結果を表示する** のページ、 **クレンジング** アクティビティに無効なとエラーの両方の値が含まれる、 **が無効です** タブに、 **管理と結果を表示する** ページです。  
  
##  <a name="Display"></a> 適切な値を表示する方法  
 次のようにして表示を変更することができます。  
  
-   **フィルター** それらの状態での状態を選択してに基づいて、テーブルに必要な結果を **フィルター** ボックスの一覧です。  
  
-   **** 検索する 1 つ以上の文字を **[検索]** ボックスに入力して、確認または変更するデータを検索します。 それらの文字が、含まれている場所に関係なく、表示されている値で強調表示されます。  
  
-   **[新規のみ表示]** をクリックします。テーブルに表示される値が、以前のセッションではなく現在のセッションで検出された値のみに制限されます。  
  
-   **[すべて展開]** をクリックして、シノニムのグループのすべての値を表示します (現在折りたたまれている場合)。  
  
-   **[すべて折りたたみ]** をクリックして、シノニムのグループの値を先頭の値以外すべて非表示にします (現在展開されている場合)。  
  
-   クリックして、 **ドメイン値の変更履歴パネルの表示/非表示** ドメインに対する最近の変更を示す値のテーブルの下部に表示されるプレビュー ポップアップにボタンをクリックします。 値のコレクション。  
  
##  <a name="Null"></a> Null に相当する値の処理方法  
 各値テーブルに、 **ドメイン値** タブには、DQS_ という値が含まれています。 データ ソース内の null は、値テーブルでは SQL_NULL として表示されます。 null に相当する値は、DQS_NULL のシノニムとして設定することができます。 これにより、null と null に相当する値がすべて DQS_NULL として処理されます。  
  
  