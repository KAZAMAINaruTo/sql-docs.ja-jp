---
title: "複合ドメインでのデータのクレンジング | Microsoft Docs"
ms.custom: ""
ms.date: "03/01/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "data-quality-services"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 7d1076e0-7710-469a-9107-e293e4bd80ac
caps.latest.revision: 14
author: "JennieHubbard"
ms.author: "jhubbard"
manager: "jhubbard"
caps.handback.revision: 14
---
# 複合ドメインでのデータのクレンジング
  このトピックでは、[!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) での複合ドメインのクレンジングについて説明します。 複合ドメインは 2 つ以上の単一ドメインで構成され、複数の関連用語で構成されるデータ フィールドにマップされます。 複合ドメイン内の個々のドメインには、ナレッジの共通領域が必要です。 複合ドメインの詳細については、「 [Managing a Composite Domain](../data-quality-services/managing-a-composite-domain.md)」を参照してください。  
  
##  <a name="Mapping"></a> ソース データへの複合ドメインのマッピング  
 複合ドメインにソース データをマップするには、次の 2 つの方法があります。  
  
-   ソース データを単一フィールド ("完全名") として、複合ドメインにマップします。  
  
    -   複合ドメインを参照データ サービスにマップすると、ソース データはそのまま参照データ サービスに送信されて修正および解析されます。  
  
    -   複合ドメインを参照データ サービスにマップしない場合、複合ドメインに定義されている解析方法に基づいて解析されます。 複合ドメインの解析方法の指定方法については、「 [Create a Composite Domain](../data-quality-services/create-a-composite-domain.md)」を参照してください。  
  
-   ソース データを複数のフィールド ("名"、"ミドル ネーム"、"姓") で構成し、複合ドメイン内の個々のドメインにマップします。  
  
 ソース データを複合ドメインをマップする方法の例は、次を参照してください。 [アタッチ ドメインまたは複合ドメインの参照データを](../data-quality-services/attach-domain-or-composite-domain-to-reference-data.md)します。  
  
##  <a name="CDCorrection"></a> 明確なクロス ドメイン ルールを使用したデータの修正  
 複合ドメインのクロス ドメイン ルールを使用して、複合ドメイン内の個々のドメインの間のリレーションシップを示すルールを作成できます。 複合ドメインを含むソース データでクレンジング アクティビティを実行するときに、クロス ドメイン ルールが考慮されます。 除いて知らせるだけでなく、明確なクロス ドメイン ルールの有効性に関して *し* クロス ドメイン ルール **値は**, も、データ クレンジング アクティビティ中に、データを修正します。  
  
 次の例を考えてみます。ProductName、CompanyName、および ProductVersion の 3 つの個別ドメインを含む複合ドメイン Product があります。 次の明確なクロス ドメイン ルールを作成します。  
  
 ドメイン 'CompanyName' 値に *Microsoft* が含まれ、ドメイン 'ProductName' 値が *Office* で 'ProductVersion' 値が *2010* の場合、ドメイン 'ProductName' 値は *Microsoft Office 2010*になる。  
  
 このクロス ドメイン ルールを実行すると、クレンジング アクティビティの後にソース データ (ProductName) が次のように修正されます。  
  
 **ソース データ**  
  
|ProductName|CompanyName|ProductVersion|  
|-----------------|-----------------|--------------------|  
|Office|Microsoft Inc.|2010|  
  
 **出力データ**  
  
|ProductName|CompanyName|ProductVersion|  
|-----------------|-----------------|--------------------|  
|Microsoft Office 2010|Microsoft Inc.|2010|  
  
 テストするときに、明確な *し* クロス ドメイン ルール **値は**, 、 **複合ドメイン ルールのテスト** ] ダイアログ ボックスには、新しい列が含まれています。 **に修正**, 、正しいデータが表示されます。 クレンジング データ品質プロジェクトでこの明確なクロス ドメイン ルールが 100% 確実にデータを変更し、 **理由** 列には、次のメッセージが表示されます: ルールによって問題が修正 '*\< クロス ドメイン ルール名 >*' です。 クロス ドメイン ルールの詳細については、次を参照してください。 [クロス ドメイン ルールを作成する](../data-quality-services/create-a-cross-domain-rule.md)です。  
  
> [!NOTE]  
>  明確なクロス ドメイン ルールは、参照データ サービスにアタッチされている複合ドメインでは動作しません。  
  
##  <a name="DataProfiling"></a> 複合ドメインのデータ プロファイル  
 2 つのデータ品質ディメンションを提供する DQS のプロファイル: *完全を期すため* (データが存在するエクステント) と *精度* (エクステントのため、使用するデータを使用できます)、クレンジング アクティビティ中にします。 複合ドメインでは、プロファイリングから得られる完全性の統計情報を必ずしも信頼できません。 完全性の統計情報が必要な場合は、複合ドメインの代わりに単一ドメインを使用します。 複合ドメインを使用する必要がある場合は、プロファイリング用に単一ドメインのナレッジ ベースを作成して完全性を確認し、クレンジング アクティビティ用に複合ドメインのドメインを別途作成します。 たとえば、複合ドメインを使用したプロファイリングで住所レコードの完全性が 95% と示されたとしても、それよりはるかに不完全な列 (郵便番号の列など) がレコードに含まれている可能性があります。 この例では、単一ドメインを使用して郵便番号の列の完全性を測定することができます。  
  
 精度は複数の列でまとめて測定できるため、プロファイリングから得られる複合ドメインの精度の統計情報は信頼できます。 このデータの値は合成集約に含まれるため、複合ドメインで精度を測定できます。  
  
 詳細については、データ クレンジング アクティビティ中にプロファイルを参照してください [プロファイラーの統計情報](../data-quality-services/cleanse-data-using-dqs-internal-knowledge.md#Profiler) で [データを使用して DQS のクレンジング & #40";"内部"&"#41 です。ナレッジ](../data-quality-services/cleanse-data-using-dqs-internal-knowledge.md)します。  
  
  