---
title: "データ クレンジング | Microsoft Docs"
ms.custom: ""
ms.date: "10/01/2012"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "data-quality-services"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: e67136cc-f8c6-4cb3-ba0b-c966c636256c
caps.latest.revision: 31
author: "JennieHubbard"
ms.author: "jhubbard"
manager: "jhubbard"
caps.handback.revision: 31
---
# データ クレンジング
  データ クレンジングは、データ ソース内のデータの品質を分析し、システムによる推奨事項を手動で承認または拒否し、それによってデータを変更するプロセスです。 [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) でのデータ クレンジングには、ナレッジ ベースのナレッジにデータがどの程度準拠しているのかを分析するコンピューター支援型のプロセスと、データ スチュワードがコンピューター支援型プロセスの結果を検討および変更してデータ クレンジングが意図したとおりに行われるようにするための対話型プロセスが含まれます。  
  
 データ スチュワードは、Integration Services パッケージ化プロセスでデータ クレンジングを実行することもできます。 この場合、データ スチュワードは [!INCLUDE[ssDQSCleansingLong](../includes/ssdqscleansinglong-md.md)]を使用します。このコンポーネントでは、既存のナレッジ ベースを使用してデータ クレンジングが自動的に行われます。 詳細については、次を参照してください。 [DQS クレンジング変換](../integration-services/data-flow/transformations/dqs-cleansing-transformation.md)します。  
  
 DQS のデータ クレンジング機能には、次の利点があります。  
  
-   データ ソース (Excel ファイルまたは SQL Server データベース) 内の不完全なデータまたは正しくないデータを識別し、修正したり、無効なデータについてユーザーに通知したりします。  
  
-   2 段階のプロセスでデータをクレンジング: *コンピューター支援型* と *インタラクティブ*します。 コンピューター支援型プロセスでは、DQS ナレッジ ベースのナレッジを使用して、データを自動的に処理し、置換/修正を提案します。 次の対話型手順では、データ スチュワードはコンピューター支援型クレンジングの間に DQS によって提案された変更を承認、拒否、または修正できます。  
  
-   ドメイン値、ドメイン ルール、および参照データを使用して、顧客データを標準化および拡充します。 たとえば、"St." を “Street” に変更することで用語の使用を標準化し、 "1 Microsoft way Redmond 98006" を "1 Microsoft Way, Redmond, WA 98006" に変更して足りない要素を補充することによりデータを拡充します。  
  
-   単一の直感的な一貫性のあるウィザードに似たインターフェイスを提供し、ユーザーがデータ内を移動して、非常に大きいデータ セットのエラーを検査できるようにします。  
  
 次の図は、DQS でのデータ クレンジングの実行方法を示したものです。  
  
 ![DQS でのデータ クレンジング プロセス](../data-quality-services/media/dqs-cleansingprocess.gif "DQS でのデータ クレンジング プロセス")  
  
##  <a name="ComputerAssisted"></a> コンピューター支援型のクレンジング  
 DQS のデータ クレンジング プロセスでは、クレンジング対象のデータにナレッジ ベースが適用され、データに対する変更内容が提示されます。 データ スチュワードは提示された変更内容にアクセスして、それを評価および修正します。 データ クレンジングを行うには、データ スチュワードは次の手順を実行します。  
  
1.  データ品質プロジェクトを作成、分析しデータをクリーンアップしてソース、および選択をする対象となるナレッジ ベースを選択、 **クレンジング** アクティビティ。 複数のデータ品質プロジェクトで、同一のナレッジ ベースを使用できます。  
  
2.  クレンジング対象のソース データが含まれるデータベース テーブル/ビューまたは Excel ファイルを指定します。 データベースまたは Excel ファイルは、ナレッジ検出に使用したものと同じでも、別のデータベースまたは Excel ファイルでもかまいません。  
  
    > [!NOTE]  
    >  ナレッジ検出とクレンジング アクティビティに同じデータ ソースを選択すると、データは変更されません。 サンプル データに対してナレッジ検出を実行した後、ナレッジ検出アクティビティの間に構築されたナレッジでソース データをクレンジングすることをお勧めします。  
  
3.  クレンジング対象のデータ フィールドを、ナレッジ ベースの適切なドメイン/複合ドメインにマップします。 複合ドメインにフィールドをマップした場合は、フィールドと複合ドメインの間でマッピングが行われます。複合ドメイン内の個別のドメインとの間ではマッピングは行われません。 また、マップされたフィールドのデータ クレンジングは、複合ドメインに指定されているルールに基づいて行われます。複合ドメイン内の個別のドメインに指定されているルールでは行われません。 複合ドメインの詳細については、次を参照してください。 [DQS ナレッジ ベースとドメイン](../data-quality-services/dqs-knowledge-bases-and-domains.md)します。  
  
4.  クリックして、コンピューター支援型クレンジング プロセスを実行 **開始** 上、 **整備** ページです。  
  
 データ クレンジング プロセスでは、既知のデータ ドメイン値と最も一致するデータ インスタンスが検索されます。 一部のサンプル データで実行されるナレッジ検出プロセスとは異なり、このプロセスでは、すべてのソース データに対してデータ品質ナレッジが適用されます。  
  
 コンピューター支援型のプロセスでは、[!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] に、対話型クレンジング プロセスで使用するデータ品質情報が表示されます。 構文エラー規則への準拠、を除きも参照データと、使用して高度なアルゴリズムを使用してデータを分類する *信頼レベル*します。 信頼レベルは、DQS の修正または候補に対する確実性の度合いを示します。 信頼レベルは、次のしきい値に基づきます。  
  
-    *自動修正しきい値* される DQS は変更の提案し、データ スチュワードが拒否しない限り値。 自動修正しきい値は、 **[構成]** 画面の **[全般設定]** タブで指定できます。 詳細については、「 [Configure Threshold Values for Cleansing and Matching](../data-quality-services/configure-threshold-values-for-cleansing-and-matching.md)」をご参照ください。  
  
-    *自動提案しきい値* される DQS が、変更の提案され、データ スチュワードが承認した場合、自動修正しきい値未満の値。 自動提案しきい値は、 **[構成]** 画面の **[全般設定]** タブで指定できます。 詳細については、「 [Configure Threshold Values for Cleansing and Matching](../data-quality-services/configure-threshold-values-for-cleansing-and-matching.md)」をご参照ください。  
  
 自動提案のしきい値より信頼レベルが低いすべての値は、データ スチュワードが変更を指定しない限り、そのまま維持されます。  
  
##  <a name="Interactive"></a> インタラクティブなクレンジング  
 コンピューター支援型のクレンジング プロセスに基づいて、データを変更するかどうかの判断に必要な情報がデータ スチュワードに示されます。 データは次の 5 つのタブに分類されます。  
  
-   **推奨される**: よりも高い信頼レベルが提案を検出された値、 *自動提案しきい値* より低いが、 *自動修正しきい値* 値。 これらの値は、確認して、必要に応じ承認または拒否する必要があります。  
  
-   **新しい**: 有効な値を DQS は十分な情報 (提案) がないため、他のタブにマップすることはできません。 さらに、このタブ値も含まれ信頼レベルがより小さい *自動提案しきい値* 値が高い十分な有効と見なされるにします。  
  
-   **無効な**: ドメインでは、サポート技術情報またはドメイン ルールまたは参照データが失敗した値が無効と見なされた値。 このタブには、対話型クレンジング プロセスの間にユーザーが他の 4 つのタブで拒否した値も表示されます。  
  
-   **修正**: 自動化クレンジングの間に DQS によって修正値の処理上の信頼レベルと値の修正候補が検出、 *自動修正しきい値* 値。 このタブは、ユーザーが正しい値で指定されている値も表示、 **に修正** インタラクティブなクレンジング中に列でラジオ ボタンをクリックして承認、 **承認** 他の 4 つのタブのいずれかの列です。  
  
-   **正しい**: 正しいことがわかった値。 たとえば、ドメイン値に一致した値が表示されます。 DQS クレンジングまたはで代わりの用語を指定することによってこのタブで値を拒否することでをオーバーライドするには、必要な場合、 **に修正** ] 列で、オプション ボタンをクリックして、 **Accept** 列です。 このタブはラジオ ボタンをクリックしてインタラクティブなクレンジング中に、ユーザーが承認した値も表示、 **承認** 内の列、 **新規** または **無効な** ] タブをクリックします。  
  
> [!NOTE]  
>   **提案**, 、**修正済み**, 、および **修正** タブ、DQS 先頭の値を表示、ドメイン内の該当する場合、 **に修正** に対してそれぞれのドメイン値の列です。  
  
 データ スチュワードは [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] を使用して、DQS が提示した変更内容を確認し、その変更を適用するかどうかを判断します。 データ スチュワードは、正しい値として DQS が提示した用語が実際に正しいかどうかを検証できます。 また、信頼レベルが高く、既に DQS によって適用済みの変更内容についても、変更が適切かどうかを検証できます。 自動提案される変更内容については、承認するかどうかを判断できます。 さらに、変更されていない値を確認して、コンピューター支援型のプロセスでは検出されなかった変更内容がないかどうかを確認できます。  
  
 DQS では、コンピューター支援型のデータ クレンジングの結果に対してデータ スチュワードが加えた変更がマージされます。 これらの変更はプロジェクト内で維持されますが、ナレッジ ベースには追加されません。 データ クレンジングでは、関連付けられているナレッジ ベースは読み取り専用です。  
  
 データ クレンジング プロセスが完了したら、処理されたデータを、SQL Server データベースの新しいテーブル、.csv ファイル、または Excel ファイルにエクスポートできます。 クレンジングが実行されたソース データは、元の状態のまま維持されます。 データ スチュワードは、別のクレンジング データを使用して、実際のソース データを修正できます。  
  
 次の図は、[!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] アプリケーションを使用してデータ クレンジングを実行する方法を示したものです。  
  
 ![Data Quality クライアントでのデータ クレンジング](../data-quality-services/media/dqs-cleansingindqsclient.gif "Data Quality クライアントでのデータ クレンジング")  
  
##  <a name="Leading"></a> 先頭の値の修正  
 先頭の値の修正は、シノニムのあるドメイン値に対して適用されます。値の表現が一貫するように、シノニム値の 1 つを他の値の代わりに先頭の値として使用できます。 たとえば、"New York"、"NYC"、および "big apple" はシノニムであり、"NYC" および "Big Apple" の代わりに "New York" を先頭の値として使用できます。 DQS では、データを標準化できるように、クレンジング プロセスにおいて先頭の値の修正がサポートされています。 先頭の値の修正は、ドメインの作成時にドメインでこの機能が有効になっている場合にのみ行われます。 先頭の値の修正をオフにした場合を除き、既定では、すべてのドメインが有効になって、 **先頭の値を使用して** ドメインの作成中にチェック ボックスをオンします。 このチェック ボックスの詳細については、次を参照してください。 [ドメイン プロパティの設定](../data-quality-services/set-domain-properties.md)します。  
  
##  <a name="Standardize"></a> クレンジング済みデータの標準化  
 ドメインで定義されている出力形式に基づいてクレンジング済みのデータを標準化された形式でエクスポートするかどうかを選択できます。 ドメインの作成時に、ドメイン内のデータ値が出力されるときに適用される書式設定を選択できます。 ドメインの出力形式を指定する方法の詳細については、次を参照してください。、 **形式の出力先** リストに [ドメイン プロパティの設定](../data-quality-services/set-domain-properties.md)します。  
  
 クレンジングされたデータをエクスポートする際に、 **エクスポート** ページ クレンジング データ品質プロジェクト ウィザードで指定するかどうかを選択して標準化された形式でエクスポートするクレンジングされたデータ、 **出力の標準化** チェック ボックスをオンします。 既定では、このチェック ボックスはオンになっており、クレンジング済みデータは標準化された形式でエクスポートされます。 クレンジングされたデータをエクスポートする方法の詳細については、次を参照してください。 [データを使用して DQS のクレンジング & #40";"内部"&"#41 です。ナレッジ](../data-quality-services/cleanse-data-using-dqs-internal-knowledge.md)します。  
  
##  <a name="Related"></a> 関連タスク  
  
|タスクの説明|トピック|  
|----------------------|-----------|  
|クレンジング アクティビティのしきい値を構成する方法について説明します。|[Configure Threshold Values for Cleansing and Matching](../data-quality-services/configure-threshold-values-for-cleansing-and-matching.md)|  
|DQS に組み込まれたナレッジを使用してデータをクレンジングする方法について説明します。|[DQS と #40; を使用してデータをクレンジング内部 & #41 です。ナレッジ](../data-quality-services/cleanse-data-using-dqs-internal-knowledge.md)|  
|参照データ サービスのナレッジを使用してデータをクレンジングする方法について説明します。|[参照データ & #40; を使用してデータをクレンジングします。外部 & #41 です。ナレッジ](../data-quality-services/cleanse-data-using-reference-data-external-knowledge.md)|  
|複合ドメインをクレンジングする方法について説明します。|[複合ドメインでのデータのクレンジング](../data-quality-services/cleanse-data-in-a-composite-domain.md)|  
  
## 参照  
 [データ品質プロジェクト #40; DQS & #41 です。](../data-quality-services/data-quality-projects-dqs.md)   
 [データ照合](../data-quality-services/data-matching.md)  
  
  